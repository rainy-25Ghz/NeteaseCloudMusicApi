{"version":3,"sources":["Components/ContentWrapper.tsx","Components/Footer.tsx","Components/Header.tsx","Components/Layout.tsx","Components/ScrollContent.tsx","util/network.ts","hooks/useAuth.ts","Components/SiderBar.tsx","Components/SiderLink.tsx","Components/SiderTitle.tsx","Components/Sider.tsx","Components/Carousel.tsx","hooks/useBanner.ts","Components/Arrow.tsx","Components/Title.tsx","Components/RecommendList.tsx","Components/PrivateContent.tsx","Components/NewSongsList.tsx","Components/RecommendMv.tsx","Components/Tab.tsx","Components/TabBar.tsx","Components/RecommendTabs.tsx","Components/Categories.tsx","Components/MusicLists.tsx","util/context.ts","Components/LatestSongs.tsx","hooks/useAudio.ts","Components/MusicPlayer.tsx","Components/Videos.tsx","Components/VideoPlayer.tsx","util/math.ts","Components/MusicList.tsx","App.tsx","hooks/useMount.ts","index.tsx"],"names":["ContentWrapper","styled","div","StyledDiv","Footer","props","children","Header","header","HeaderContent","Layout","StyledMain","main","hasTitle","ScrollContent","location","useLocation","pathname","indexOf","fetcher","a","fetch","then","res","json","logout","login","phone","password","LoginStatusContext","createContext","loginStatus","uid","StyledAside","aside","SiderBar","activated","StyledLink","Link","SiderLink","text","path","onClick","history","useHistory","push","to","SiderTitle","linkData","linkDataLogin","Sider","useState","loginData","useContext","useSWR","listData","data","error","map","i","playlist","item","id","name","StyledSlider","Slider","StyledContainer","img","Carousel","bannerData","useBanner","banners","console","log","imageUrl","CircularProgress","StyledArrowLeft","ArrowBackIosIcon","StyledArrowRight","ArrowForwardIosIcon","StyledTypo","span","Title","className","StyledListPic","width","height","bdr","src","defaultData","Array","fill","RecommendList","result","picUrl","PrivateContent","sPicUrl","StyledImg","NewSongsList","song","artists","artist","join","StyeldDiv","RecommendMv","Tab","title","TabBar","tabMap","RecommendTabs","tab","setTab","match","useRouteMatch","useLayoutEffect","index","length","arr","vidCats","VidCategories","currCat","setCurrCat","slice","Categories","cats","sub","MusicLists","setCurrCatMemo","useCallback","offset","setOffset","loading","setLoading","playlists","setPlaylists","divRef","useRef","intersectionObserverRef","useEffect","newPlaylists","$node","current","IntersectionObserver","entries","isIntersecting","val","observe","unobserve","disconnect","e","coverImgUrl","ref","style","MusicContext","setArtists","setName","setDuration","setUrl","url","duration","songIds","setSongIds","currI","setCurrI","StatusTab","type","StyledButton","Button","PlayButton","startIcon","LatestSongs","songId","setSongId","setType","derivedData","useMemo","album","blurPicUrl","artistsName","minutes","Math","floor","seconds","type_","first","albumName","dur","backgroundColor","onDoubleClick","audio","Audio","useAudio","MusicPlayer","volume","setVolume","urlData","paused","setPaused","listener1","listener2","addEventListener","removeEventListener","IconButton","SkipPrevious","play","PlayArrow","pause","Pause","SkipNext","VolumeUp","onChange","_","newVal","value","Videos","videos","setVideos","find","datas","coverUrl","vid","f","u","r","urls","Promise","all","VideoPlayer","times","useParams","controls","playTime","getDur","StyledTable","Table","MusicList","trackIdsUrl","trackIds","reduce","accumulator","currentValue","getTrackIdsUrl","tracks","songs","al","ar","dt","albumPicUrl","artistName","Avatar","creator","avatarUrl","nickname","TableHead","TableCell","align","sx","paddingRight","TableBody","TableRow","getSongIds","StyledAvatar","StyledNickName","Typography","theme","createTheme","palette","primary","red","App","fn","psw","open","setOpen","errTextField","setErrTextField","document","cookie","setLoginStatus","setUid","user","cookie_","window","localStorage","getItem","uid_","parseInt","handleClickOpen","handleLogout","code","removeItem","Provider","ThemeProvider","alt","profile","variant","LogoutOutlined","LoginOutlined","renderHeader","flexBasis","dots","infinite","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","nextArrow","prevArrow","state","from","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","fullWidth","target","helperText","DialogActions","account","setItem","JSON","stringify","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0fe00c69.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nconst StyledDiv = styled.div`\r\n    flex: 1 0 auto;\r\n    height: 100vh;\r\n    overflow-y: hidden;\r\n`;\r\n\r\nexport const ContentWrapper = StyledDiv;\r\n","import React from \"react\";\r\nimport styled from '@emotion/styled';\r\n\r\nconst StyledDiv = styled.div`\r\n  position: fixed;\r\n  bottom: 0;\r\n  height: 6rem;\r\n  width: 100vw;\r\n  border-top-style: solid;\r\n  border-top-width: 1px;\r\n  border-top-color: rgba(237, 242, 247, 1);\r\n  z-index: 1200;\r\n  background-color: white;\r\n`;\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Footer = (props: Props) => {\r\n  return <StyledDiv>{props.children}</StyledDiv>;\r\n};\r\n","import React from \"react\";\r\nimport styled from '@emotion/styled';\r\n\r\nconst StyledHead = styled.header`\r\n  display: flex;\r\n  position: fixed;\r\n  top: 0px;\r\n  right: 0px;\r\n  left: 0px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);\r\n  height: 4rem;\r\n  border-style: solid;\r\n  border-width: 0px;\r\n  border-bottom-width: 1px;\r\n  border-color: rgba(237, 242, 247, 1);\r\n  background-color: rgb(236, 65, 65);\r\n  .logo {\r\n    width: 256px;\r\n  }\r\n`;\r\n\r\nexport const Header = StyledHead;\r\nexport const HeaderContent = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n","import React from \"react\";\r\nimport styled from '@emotion/styled';\r\n\r\nexport const Layout = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\ninterface MainProps {\r\n\thasTitle: boolean;\r\n}\r\nconst StyledMain = styled.main<MainProps>`\r\n\twidth: 100%;\r\n\theight: ${(props) =>\r\n\t\tprops.hasTitle ? `calc(100vh - 6rem)` : `calc(100vh - 4rem)`};\r\n\tpadding-top: ${(props) =>\r\n\t\tprops.hasTitle ? `8rem` : `6rem`};\r\n`;\r\nconst StyledDiv = styled.div`\r\n\tmax-width: calc(100vw - 256px);\r\n\twidth: 100%;\r\n\theight: calc(100vh - 14rem);\r\n\toverflow-x: hidden;\r\n\toverflow-y: scroll;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\r\n\t&::-webkit-scrollbar {\r\n\t\twidth: 10px;\r\n\t\tbackground-color: transparent;\r\n\t}\r\n\t&::-webkit-scrollbar-thumb {\r\n\t\twidth: 10px;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: #6b6b6b2f;\r\n\t}\r\n`;\r\ninterface Props {\r\n\tchildren: React.ReactNode;\r\n}\r\nexport const ScrollContent = ({ children }: Props) => {\r\n  const location=useLocation();\r\n\treturn (\r\n\t\t<StyledMain hasTitle={location.pathname.indexOf(\"findmusic\")!==-1}>\r\n\t\t\t<StyledDiv>{children}</StyledDiv>\r\n\t\t</StyledMain>\r\n\t);\r\n};\r\n","export const fetcher = async (...args: Parameters<typeof window.fetch>) => {\r\n    return fetch(...args).then((res) => res.json());\r\n};\r\nexport const fetcherAll=(token:string,...urls:string[])=>{\r\n    console.log(\"token\"+token);\r\n    return Promise.all(urls.map(url=>fetcher(url)));\r\n}\r\n// fn1(\"token\",...[\"/a\",\"/b\",\"/c\"]);\r\n\r\n// export const fetcherAll = async ()","import { createContext, useContext } from \"react\";\r\nimport useSWR from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\n\r\n\r\nexport const logout = async () => {\r\n  return await fetcher(`/logout`) as any;\r\n};\r\nexport const login = async (phone: string, password: string) => {\r\n  const res = await fetch(\r\n    `/login/cellphone?phone=${phone}&password=${password}`\r\n  ).then((res) => res.json());\r\n  return res as any;\r\n};\r\nexport const checkCookie=()=>{\r\n  return document.cookie.indexOf(\"MUSIC_U=\")!==-1;\r\n}\r\n\r\ninterface LoginStatusContextInterface{\r\n  loginStatus:boolean;\r\n  uid:number|null;\r\n}\r\n\r\nexport const LoginStatusContext = createContext<LoginStatusContextInterface>({loginStatus:false,uid:null});\r\n\r\nexport const useAuth=()=>{\r\n  return useContext(LoginStatusContext);\r\n}\r\n\r\n","import React from \"react\";\r\nimport styled from '@emotion/styled';\r\nconst StyledAside = styled.aside`\r\n  top: 4rem;\r\n  height: calc(100vh - 4rem - 6rem);\r\n  position: fixed;\r\n  width: 256px;\r\n  z-index: 1000;\r\n \r\n  \r\n`;\r\nconst StyledDiv = styled.div`\r\n  border-color: rgba(237, 242, 247, 1);\r\n  width: 100%;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  padding: 1rem;\r\n  padding-right: 2px;\r\n  border-right-width: 1px;\r\n  border-right-style: solid;\r\n  overflow-y: scroll;\r\n  &::-webkit-scrollbar {\r\n    width: 10px;\r\n    background-color: transparent;\r\n\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    width: 10px;\r\n    border-radius: 4px;\r\n    background-color: #80808022;\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const SiderBar = (props: Props) => {\r\n  return (\r\n    <StyledAside>\r\n      <StyledDiv>{props.children}</StyledDiv>\r\n    </StyledAside>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport styled from \"@emotion/styled\";\r\nconst StyledDiv = styled.div<Props>`\r\n\tbackground-color: ${(props) =>\r\n\t\tprops.activated ? \"rgb(246,246,247)\" : \"white\"};\r\n\t&:hover {\r\n\t\tbackground-color: rgb(246, 246, 247);\r\n\t\tcursor: pointer;\r\n\t}\r\n\tfont-weight: ${(props) => (props.activated ? \"1000\" : \"500\")};\r\n\tborder-radius: 8px;\r\n\theight: 2rem;\r\n\tborder-bottom: 4px solid white;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-left: 8px;\r\n\tpadding-right: 8px;\r\n`;\r\nconst StyledLink = styled(Link)`\r\n\tcolor: #000000df;\r\n\ttext-decoration: none;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n`;\r\ninterface Props {\r\n\tactivated?: boolean;\r\n\tpath: string;\r\n\ttext: string;\r\n\tonClick?: () => void;\r\n}\r\n\r\nexport const SiderLink = ({ text, path, activated, onClick }: Props) => {\r\n\tlet history = useHistory();\r\n\tconst handleClick = () => {\r\n\t\thistory.push(path);\r\n\t\tonClick && onClick();\r\n\t};\r\n\treturn (\r\n\t\t<StyledDiv {...{ text, path, activated }} onClick={handleClick}>\r\n\t\t\t<StyledLink to={path}>{text}</StyledLink>\r\n\t\t</StyledDiv>\r\n\t);\r\n};\r\n","import  styled  from '@emotion/styled';\r\nexport const SiderTitle = styled.div`\r\n\tcolor: #808080;\r\n\tfont-size:small;\r\n\theight: 3rem;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-left: 8px;\r\n`;\r\n","import { useContext, useState } from \"react\";\r\nimport { useLocation, useRouteMatch } from \"react-router\";\r\nimport useSWR from \"swr\";\r\nimport { LoginStatusContext } from \"../hooks/useAuth\";\r\nimport { fetcher } from \"../util/network\";\r\nimport { SiderBar } from \"./SiderBar\";\r\nimport { SiderLink } from \"./SiderLink\";\r\nimport { SiderTitle } from \"./SiderTitle\";\r\nconst linkData = [\r\n\t{ path: \"/findmusic\", text: \"发现音乐\" },\r\n\t{ path: \"/videos\", text: \"视频\" },\r\n];\r\nconst linkDataLogin = [\r\n\t{ path: \"/findmusic\", text: \"发现音乐\" },\r\n\t{ path: \"/videos\", text: \"视频\" },\r\n\t{ path: null, text: \"我的音乐\" },\r\n];\r\nexport const Sider = () => {\r\n\tconst [index, setIndex] = useState(0);\r\n\tconst loginData = useContext(LoginStatusContext);\r\n\tconst { data: listData, error } = useSWR(\r\n\t\t() => `/user/playlist?uid=${loginData.uid}`,\r\n\t\tfetcher\r\n\t);\r\n\tconst location = useLocation();\r\n\r\n\treturn (\r\n\t\t<SiderBar>\r\n\t\t\t{!loginData.loginStatus &&\r\n\t\t\t\tlinkData.map(({ path, text }, i) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<SiderLink\r\n\t\t\t\t\t\t\tkey={text}\r\n\t\t\t\t\t\t\tpath={path}\r\n\t\t\t\t\t\t\ttext={text}\r\n\t\t\t\t\t\t\tactivated={location.pathname.indexOf(path) !== -1}\r\n\t\t\t\t\t\t></SiderLink>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t{loginData.loginStatus &&\r\n\t\t\t\tlinkDataLogin.map(({ path, text }, i) => {\r\n\t\t\t\t\tif (path)\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<SiderLink\r\n\t\t\t\t\t\t\t\tkey={text}\r\n\t\t\t\t\t\t\t\tpath={path}\r\n\t\t\t\t\t\t\t\ttext={text}\r\n\t\t\t\t\t\t\t\tactivated={\r\n\t\t\t\t\t\t\t\t\tlocation.pathname.indexOf(path) !== -1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t></SiderLink>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\telse return <SiderTitle key={text}>{text}</SiderTitle>;\r\n\t\t\t\t})}\r\n\t\t\t{/* {loginData.loginStatus && listData && (\r\n\t\t\t\t<p>{listData?.playlist?.length}</p>\r\n\t\t\t)} */}\r\n\t\t\t{loginData.loginStatus &&\r\n\t\t\t\tlistData &&\r\n\t\t\t\tlistData.playlist.map((item: any) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<SiderLink\r\n\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\tpath={`/list/${item.id}`}\r\n\t\t\t\t\t\t\ttext={item.name}\r\n\t\t\t\t\t\t\tactivated={location.pathname.indexOf(`/list/${item.id}`) !== -1}\r\n\t\t\t\t\t\t></SiderLink>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t</SiderBar>\r\n\t);\r\n};\r\n","import Slider, { Settings } from \"react-slick\";\r\nimport React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport { useBanner } from \"../hooks/useBanner\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport { CircularProgress } from \"@mui/material\";\r\nconst StyledDiv = styled.div`\r\n\theight: 16rem;\r\n\twidth: 43rem;\r\n\tborder-radius: 1rem;\r\n\t&:hover {\r\n\t\t.slick-prev,.slick-next{\r\n            color:white;\r\n        }\r\n\t}\r\n\t\r\n`;\r\nconst StyledSlider = styled(Slider)``;\r\ninterface ContainerProps {\r\n\timg: string;\r\n}\r\nconst StyledContainer = styled.div<ContainerProps>`\r\n\twidth: 43rem;\r\n\theight: 16rem;\r\n\tborder-radius: 1rem;\r\n\tbackground-size: contain;\r\n\tbackground-image: url(${(props) => props.img});\r\n`;\r\n\r\ninterface Props {\r\n\timgs?: string[];\r\n}\r\n\r\nexport const Carousel = (props: Settings & Props) => {\r\n\tconst { bannerData } = useBanner();\r\n\treturn (\r\n\t\t<StyledDiv>\r\n\t\t\t{bannerData ? (\r\n\t\t\t\t<StyledSlider {...props}>\r\n\t\t\t\t\t{bannerData.banners.map((img: any) => {\r\n\t\t\t\t\t\tconsole.log(img);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<StyledContainer\r\n\t\t\t\t\t\t\t\tkey={img.imageUrl}\r\n\t\t\t\t\t\t\t\timg={img.imageUrl}\r\n\t\t\t\t\t\t\t></StyledContainer>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</StyledSlider>\r\n\t\t\t) : (\r\n\t\t\t\t<CircularProgress />\r\n\t\t\t)}\r\n\t\t</StyledDiv>\r\n\t);\r\n};\r\n","import useSWR from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\n\r\nexport function useBanner() {\r\n    const { data: bannerData, error } = useSWR(\"/banner\", fetcher);\r\n    return { bannerData, error };\r\n}\r\n","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\nimport ArrowBackIosIcon from \"@mui/icons-material/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@mui/icons-material/ArrowForwardIos\";\r\ninterface Props {}\r\n\r\nexport const StyledArrowLeft = styled(ArrowBackIosIcon)`\r\n    transform: translateX(64px);\r\n    z-index:3000; \r\n`;\r\nexport const StyledArrowRight = styled(ArrowForwardIosIcon)`\r\n    transform: translateX(-64px);\r\n`;\r\n","import styled from \"@emotion/styled\";\r\nimport { ArrowForwardIos, ArrowRight } from \"@mui/icons-material\";\r\nimport { Typography } from \"@mui/material\";\r\nimport React, { ReactNode } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nconst StyledTypo = styled.span`\r\n\tfont-size: 24px;\r\n\twidth: 86rem;\r\n\tmargin-top: 1rem;\r\n\tmargin-bottom: 0.5rem;\r\n\tfont-weight: 600;\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n\ttext-align: left;\r\n\t.icon {\r\n\t\tvertical-align: middle;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\tuser-select: none; /* Standard */\r\n\t& span:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n`;\r\ninterface Props {\r\n\tchildren: ReactNode;\r\n\tto?: string;\r\n}\r\n\r\nexport const Title = (props: Props) => {\r\n\tconst history = useHistory();\r\n\treturn (\r\n\t\t<StyledTypo\r\n\t\t\tonClick={() => {\r\n\t\t\t\tprops.to && history.push(props.to);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<span>{props.children}</span>\r\n\t\t\t<span className=\"icon\">\r\n\t\t\t\t<ArrowForwardIos />\r\n\t\t\t</span>\r\n\t\t</StyledTypo>\r\n\t);\r\n};\r\n","import styled from \"@emotion/styled\";\r\nimport { CircularProgress } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport useSWR from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\n\r\nconst StyledContainer = styled.div`\r\n    display: flex;\r\n    width: 86rem;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    align-content: space-between;\r\n    .item {\r\n        display: flex;\r\n        flex-direction: column;\r\n        width: 16rem;\r\n        height: 20rem;\r\n        .link {\r\n            text-decoration: none;\r\n            text-align: left;\r\n            color: black;\r\n        }\r\n    }\r\n`;\r\ninterface ListPicProps {\r\n    src?: string;\r\n    width?: number;\r\n    height?: number;\r\n    bdr?:number;\r\n    onClick?:()=>void;\r\n}\r\nexport const StyledListPic = styled.div<ListPicProps>`\r\n    width: ${(props) => (props.width ? `${props.width}rem` : \"16rem\")};\r\n    height: ${(props) => (props.height ? `${props.height}rem` : \"16rem\")};\r\n    border-radius:${(props) => (props.bdr ? `${props.bdr}rem` : \"1rem\")};\r\n    background-image: url(${(props) => props.src?props.src:\"/default.png\"});\r\n    background-size: contain;\r\n    flex-shrink: 0;\r\n`;\r\nconst defaultData = new Array(10).fill(null);\r\nexport const RecommendList = () => {\r\n    const { data, error } = useSWR(\"/personalized?limit=10\", fetcher);\r\n    const history=useHistory();\r\n    return (\r\n        <StyledContainer>\r\n            {data?.result\r\n                ? data.result.map((item: any) => {\r\n                      return (\r\n                          <div className=\"item\">\r\n                              <StyledListPic src={item.picUrl} onClick={()=>{history&&history.push(`/list/${item.id}`)}} />\r\n                              <Link className=\"link\" to={`/list/${item.id}`}><span>{item.name}</span></Link>\r\n                          </div>\r\n                      );\r\n                  })\r\n                : defaultData.map(() => <CircularProgress />)}\r\n        </StyledContainer>\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport useSWR from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\nimport { StyledListPic } from \"./RecommendList\";\r\nimport { CircularProgress } from \"@mui/material\";\r\ninterface Props {}\r\nconst StyledDiv = styled.div`\r\n    display: flex;\r\n    width: 86rem;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    .item {\r\n        display: flex;\r\n        flex-direction: column;\r\n        width: 28rem;\r\n        height: 18rem;\r\n        span {\r\n            text-align: left;\r\n        }\r\n    }\r\n`;\r\nconst defaultData = new Array(3).fill(null);\r\nexport const PrivateContent = (props: Props) => {\r\n    const { data, error } = useSWR(\"/personalized/privatecontent\", fetcher);\r\n\r\n    return (\r\n        <StyledDiv>\r\n            {data?.result\r\n                ? data.result.map((item: any) => {\r\n                      return (\r\n                          <div className=\"item\">\r\n                              <StyledListPic src={item.sPicUrl} width={28} height={15}></StyledListPic>\r\n                              <span>{item.name}</span>\r\n                          </div>\r\n                      );\r\n                  })\r\n                : defaultData.map(() => <CircularProgress />)}\r\n        </StyledDiv>\r\n    );\r\n};\r\n","import styled from \"@emotion/styled\";\r\nimport { CircularProgress } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport useSWR from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\nconst StyledDiv = styled.div`\r\n    width: 86rem;\r\n    height: 20rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n    align-content: space-between;\r\n    justify-content: space-between;\r\n    .item {\r\n        width: 27rem;\r\n        height: 4rem;\r\n        margin-bottom: 1rem;\r\n        display: flex;\r\n        .intro {\r\n            margin-left: 1rem;\r\n            display: flex;\r\n            flex-direction: column;\r\n            text-align: left;\r\n            justify-content: center;\r\n            .author {\r\n                color: #666565b9;\r\n            }\r\n        }\r\n    }\r\n`;\r\ninterface ImgProps {\r\n    src: string;\r\n}\r\nconst StyledImg = styled.div<ImgProps>`\r\n    border-radius: 1rem;\r\n    width: 4rem;\r\n    height: 4rem;\r\n    background-image: url(${(props) => props.src});\r\n`;\r\n\r\nexport const NewSongsList = () => {\r\n    const { data, error } = useSWR(\"/personalized/newsong?limit=12\", fetcher);\r\n    return (\r\n        <StyledDiv>\r\n            {data\r\n                ? data.result.map((item: any) => {\r\n                      return (\r\n                          <div className=\"item\">\r\n                              <StyledImg src={item.picUrl}></StyledImg>\r\n                              <div className=\"intro\">\r\n                                  <span className=\"name\">{item.name}</span>\r\n                                  <span className=\"author\">\r\n                                      {item.song.artists\r\n                                          .map((artist: any) => artist.name)\r\n                                          .join(\"/\")}\r\n                                  </span>\r\n                              </div>\r\n                          </div>\r\n                      );\r\n                  })\r\n                : new Array(12).fill(null).map(() => <CircularProgress />)}\r\n        </StyledDiv>\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport useSWR from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\nimport styled from \"@emotion/styled\";\r\nimport { StyledListPic } from \"./RecommendList\";\r\nimport { CircularProgress } from \"@mui/material\";\r\n\r\nconst StyeldDiv = styled.div`\r\n    display: flex;\r\n    width: 86rem;\r\n    height: 17rem;\r\n    justify-content: space-between;\r\n    .mv {\r\n        display: flex;\r\n        flex-direction: column;\r\n        text-align: left;\r\n        width: 20rem;\r\n        span {\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n        }\r\n        .artists {\r\n            color: #666565b9;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const RecommendMv = () => {\r\n    const { data } = useSWR(\"/personalized/mv\", fetcher);\r\n    return (\r\n        <StyeldDiv>\r\n            {data\r\n                ? data.result.map((item: any) => {\r\n                      return (\r\n                          <div className=\"mv\">\r\n                              <StyledListPic\r\n                                  src={item.picUrl}\r\n                                  width={20}\r\n                                  height={11}\r\n                              />\r\n                              <span className=\"name\">{item.name}</span>\r\n                              <span className=\"artists\">\r\n                                  {item.artists\r\n                                      .map((artist: any) => artist.name)\r\n                                      .join(\"/\")}\r\n                              </span>\r\n                          </div>\r\n                      );\r\n                  })\r\n                : new Array(4).fill(null).map(() => (\r\n                      <div className=\"mv\">\r\n                          <CircularProgress />\r\n                      </div>\r\n                  ))}\r\n        </StyeldDiv>\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nconst StyledDiv = styled.div<Partial<Props>>`\r\n\tfont-size: ${(props) => (props.activated ? \"22px\" : \"18px\")};\r\n\tfont-weight: ${(props) => (props.activated ? \"600\" : \"\")};\r\n\tmargin-left: 2rem;\r\n\tborder-bottom: ${(props) =>\r\n\t\tprops.activated ? \"solid 2px rgb(236, 65, 65) \" : \"\"};\r\n\t&:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.tab-link {\r\n    color:black;\r\n    text-decoration: none;\r\n  }\r\n`;\r\ninterface Props {\r\n\ttitle: string;\r\n\tactivated?: boolean;\r\n\tonClick?: () => void;\r\n\tpath: string;\r\n}\r\n\r\nexport const Tab = ({ title, activated = false, onClick, path }: Props) => {\r\n\treturn (\r\n\t\t<StyledDiv activated={activated} onClick={onClick}>\r\n\t\t\t<Link className=\"tab-link\" to={path}>\r\n\t\t\t\t{title}\r\n\t\t\t</Link>\r\n\t\t</StyledDiv>\r\n\t);\r\n};\r\n","import styled from '@emotion/styled';\r\nconst StyledHead = styled.header`\r\n  display: flex;\r\n  position: fixed;\r\n  top: 4rem;\r\n  width: 100%;\r\n  left: 256px;\r\n  height: 4rem;\r\n  background-color: rgb(255, 255, 255);\r\n  align-items: center;\r\n\r\n`;\r\n\r\nexport const TabBar = StyledHead;\r\n","import React, { useEffect, useLayoutEffect, useState } from 'react'\r\nimport { useLocation, useRouteMatch } from 'react-router';\r\nimport { Tab } from './Tab';\r\nimport { TabBar } from './TabBar';\r\n\r\ninterface Props {\r\n    \r\n}\r\nconst tabMap=[\r\n    {\r\n        title: \"个性推荐\",\r\n        path: \"personalrecommend\",\r\n    },\r\n    {\r\n        title: \"歌单\",\r\n        path: \"lists\",\r\n    },\r\n    {\r\n        title: \"最新音乐\",\r\n        path: \"newsongs\",\r\n    },\r\n]\r\nexport const RecommendTabs = (props: Props) => {\r\n    const [tab, setTab] = useState<number>(0);\r\n    const match=useRouteMatch(tabMap.map(({path})=>`/findmusic/${path}`));\r\n    useLayoutEffect(() => {\r\n       for (let index = 0; index < tabMap.length; index++) {\r\n           const {path} = tabMap[index];\r\n           if(match?.path.indexOf(path)!==-1){\r\n               setTab(index);\r\n               break;\r\n           }\r\n       }\r\n    }, [match])\r\n    return (\r\n        <TabBar>\r\n        {tabMap.map(\r\n            (\r\n                { title, path },\r\n                index,\r\n                arr\r\n            ) => (\r\n                <Tab\r\n                    key={title}\r\n                    title={title}\r\n                    activated={\r\n                        title ===\r\n                        arr[tab].title\r\n                    }\r\n                    path={path}\r\n                    onClick={() => {\r\n                        setTab(index);\r\n                    }}\r\n                />\r\n            )\r\n        )}\r\n    </TabBar>\r\n    )\r\n}\r\n","import React, { Dispatch } from \"react\";\r\nimport useSWR from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\n\r\ninterface Props {\r\n\tcurrCat: string;\r\n\tsetCurrCat: Dispatch<string>;\r\n}\r\nexport const vidCats = [\r\n\t{\r\n\t\tid: 58100,\r\n\t\tname: \"现场\",\r\n\t},\r\n\t{\r\n\t\tid: 60100,\r\n\t\tname: \"翻唱\",\r\n\t},\r\n\t{\r\n\t\tid: 1101,\r\n\t\tname: \"舞蹈\",\r\n\t},\r\n\t{\r\n\t\tid: 58101,\r\n\t\tname: \"听BGM\",\r\n\t},\r\n\t{\r\n\t\tid: 2100,\r\n\t\tname: \"生活\",\r\n\t},\r\n\t{\r\n\t\tid: 2103,\r\n\t\tname: \"游戏\",\r\n\t},\r\n\t{\r\n\t\tid: 57104,\r\n\t\tname: \"ACG音乐\",\r\n\t},\r\n\t{\r\n\t\tid: 1105,\r\n\t\tname: \"最佳饭制\",\r\n\t},\r\n];\r\nexport const VidCategories = ({currCat, setCurrCat}: Props) => {\r\n    return (\r\n\t\t<div className=\"status\">\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"curr-cat\">\r\n\t\t\t\t\t<span>{currCat}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{vidCats.slice(0, 10).map((item) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={item.name}\r\n\t\t\t\t\tclassName={`cat-name ${\r\n\t\t\t\t\t\titem.name === currCat ? \"selected\" : \"\"\r\n\t\t\t\t\t}`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetCurrCat(item.name);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{item.name}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\nexport const Categories = ({ currCat, setCurrCat }: Props) => {\r\n\tconst { data: cats } = useSWR(\"/playlist/catlist\", fetcher);\r\n\treturn (\r\n\t\t<div className=\"status\">\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"curr-cat\">\r\n\t\t\t\t\t<span>{currCat}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{cats?.sub.slice(0, 10).map((item: any) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={item.name}\r\n\t\t\t\t\tclassName={`cat-name ${\r\n\t\t\t\t\t\titem.name === currCat ? \"selected\" : \"\"\r\n\t\t\t\t\t}`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetCurrCat(item.name);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{item.name}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import styled from \"@emotion/styled\";\r\nimport { CircularProgress } from \"@mui/material\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useSWR, { Middleware } from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\nimport { Categories } from \"./Categories\";\r\nimport { StyledListPic } from \"./RecommendList\";\r\n\r\nexport const StyledContainer = styled.div`\r\n\tmargin-top: 1rem;\r\n\r\n\t.status {\r\n\t\tmargin-bottom: 1rem;\r\n\t\tfont-size: 16px;\r\n\t\theight: 32px;\r\n\t\twidth: 86rem;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t.wrapper {\r\n\t\t\tflex-basis: 50%;\r\n\t\t}\r\n\t\t.curr-cat {\r\n\t\t\twidth: 104px;\r\n\t\t\theight: 32px;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tdisplay: flex;\r\n\t\t\tfont-size: 16px;\r\n\t\t\tborder-style: solid;\r\n\t\t\tborder-radius: 16px;\r\n\t\t\tborder-width: 1px;\r\n\t\t\tborder-color: gray;\r\n\t\t}\r\n\t\t.cat-name {\r\n\t\t\tfont-size: small;\r\n\t\t\theight: 16px;\r\n\t\t\tflex-basis: 4rem;\r\n\t\t\tuser-select: none;\r\n\t\t}\r\n\t\t.selected {\r\n\t\t\tbackground-color: rgb(253, 245, 245);\r\n\t\t\tborder-radius: 12px;\r\n\t\t\tcolor: rgb(236, 65, 65);\r\n\t\t}\r\n\t}\r\n\t.list {\r\n\t\tdisplay: flex;\r\n\t\twidth: 86rem;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\talign-content: space-between;\r\n\t\t.item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\twidth: 16rem;\r\n\t\t\theight: 20rem;\r\n\t\t\tspan {\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\t\t\t.name {\r\n\t\t\t\ttext-decoration: none;\r\n\t\t\t\tcolor: black;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport const MusicLists = () => {\r\n\tconst [currCat, setCurrCat] = useState(\"全部歌单\");\r\n\tconst setCurrCatMemo = useCallback(setCurrCat, [currCat]);\r\n\tconst [offset, setOffset] = useState(0);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [playlists, setPlaylists] = useState<any[]>([]);\r\n\tconst divRef = useRef<HTMLDivElement>(null);\r\n\tconst intersectionObserverRef = useRef<IntersectionObserver | null>(null);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst res: any = await fetch(\r\n\t\t\t\t`/top/playlist?limit=20&cat=${currCat}&offset=${offset}`\r\n\t\t\t).then((res) => res.json());\r\n\r\n\t\t\tconst { playlists: newPlaylists } = res;\r\n\t\t\tsetPlaylists(newPlaylists);\r\n\t\t\tsetLoading(false);\r\n\t\t})();\r\n\t}, [currCat]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (offset <= 100)\r\n\t\t\t(async () => {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tconst res: any = await fetch(\r\n\t\t\t\t\t`/top/playlist?limit=20&cat=${currCat}&offset=${\r\n\t\t\t\t\t\toffset * 20\r\n\t\t\t\t\t}`\r\n\t\t\t\t).then((res) => res.json());\r\n\r\n\t\t\t\tconst { playlists: newPlaylists } = res;\r\n\t\t\t\tsetPlaylists([...playlists, ...newPlaylists]);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})();\r\n\t}, [offset]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst $node = divRef.current as HTMLDivElement;\r\n\t\tintersectionObserverRef.current = new IntersectionObserver(\r\n\t\t\t(entries) => {\r\n\t\t\t\tconsole.log(entries);\r\n\t\t\t\tif (entries[0] && entries[0].isIntersecting) {\r\n\t\t\t\t\tsetOffset((val) => (val >= 100 ? 100 : val + 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\tintersectionObserverRef.current.observe($node);\r\n\t\treturn () => {\r\n\t\t\ttry {\r\n\t\t\t\tintersectionObserverRef.current?.unobserve($node);\r\n\t\t\t\tintersectionObserverRef.current?.disconnect();\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e); // nothing to do\r\n\t\t\t}\r\n\t\t};\r\n\t}, [divRef.current]);\r\n\r\n\treturn (\r\n\t\t<StyledContainer>\r\n\t\t\t<Categories setCurrCat={setCurrCatMemo} currCat={currCat} />\r\n\t\t\t<div className=\"list\">\r\n\t\t\t\t{playlists.map(\r\n\t\t\t\t\t({ coverImgUrl, name ,id}: any, index, playlists) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"item\" key={name}>\r\n\t\t\t\t\t\t\t\t<StyledListPic\r\n\t\t\t\t\t\t\t\t\tsrc={coverImgUrl}\r\n\t\t\t\t\t\t\t\t></StyledListPic>\r\n\t\t\t\t\t\t\t\t<Link className=\"name\" to={`/list/${id}`}>{name}</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div ref={divRef} style={{ width: \"100%\", height: \"2rem\" }}>\r\n\t\t\t\t{loading && <CircularProgress></CircularProgress>}\r\n\t\t\t</div>\r\n\t\t</StyledContainer>\r\n\t);\r\n};\r\n","import { createContext, Dispatch } from \"react\";\r\n\r\ninterface MusicContextInterface {\r\n\tname: string;\r\n\tsetName: Dispatch<string>;\r\n\turl: string;\r\n\tsetUrl: Dispatch<string>;\r\n\tartists: string;\r\n\tsetArtists: Dispatch<string>;\r\n\tduration: string;\r\n\tsetDuration: Dispatch<string>;\r\n\tsongIds: number[];\r\n\tsetSongIds: Dispatch<number[]>;\r\n\tcurrI:number;\r\n\tsetCurrI:Dispatch<number>;\r\n}\r\nexport const MusicContext = createContext<MusicContextInterface>({\r\n\tname: \"\",\r\n\tsetArtists: () => {},\r\n\tsetName: () => {},\r\n\tsetDuration: () => {},\r\n\tsetUrl: () => {},\r\n\turl: \"\",\r\n\tartists: \"\",\r\n\tduration: \"\",\r\n\tsongIds: [],\r\n\tsetSongIds: () => {},\r\n\tcurrI:-1,\r\n\tsetCurrI:()=>{}\r\n});\r\n","import styled from \"@emotion/styled\";\r\nimport { ArrowForwardIos } from \"@mui/icons-material\";\r\nimport { Button, CircularProgress } from \"@mui/material\";\r\nimport React, {\r\n\tDispatch,\r\n\tuseCallback,\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseMemo,\r\n\tuseRef,\r\n\tuseState,\r\n} from \"react\";\r\nimport useSWR, { Middleware } from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\nimport { StyledListPic } from \"./RecommendList\";\r\nimport EqualizerIcon from \"@mui/icons-material/Equalizer\";\r\nimport { MusicContext } from \"../util/context\";\r\nexport const StyledContainer = styled.div`\r\n\tmargin-top: 2rem;\r\n\twidth: 73rem;\r\n\t.header {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 1rem;\r\n\t}\r\n\t.btn {\r\n\t\twidth: calc(73rem - 270px);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t}\r\n\t.list-item {\r\n\t\t&:hover {\r\n\t\t\tbackground-color: rgb(239, 239, 239);\r\n\t\t}\r\n\t\tpadding-left: 2rem;\r\n\t\tpadding-right: 2rem;\r\n\t\twidth: 100%;\r\n\t\theight: 5rem;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t.i {\r\n\t\t\ttext-align: left;\r\n\t\t\tjustify-self: flex-start;\r\n\t\t\twidth: 2rem;\r\n\t\t\tcolor: #b9b9b9;\r\n\t\t}\r\n\t\t.equalizer {\r\n\t\t\tjustify-self: flex-start;\r\n\t\t\twidth: 2rem;\r\n\t\t\tcolor: rgb(236, 65, 65);\r\n\t\t\ttransform: translateX(-0.5rem);\r\n\t\t}\r\n\t\t.name {\r\n\t\t\tmargin-left: 1rem;\r\n\t\t\twidth: 10rem;\r\n\t\t\ttext-align: left;\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\t\t.name-red {\r\n\t\t\tmargin-left: 1rem;\r\n\t\t\twidth: 10rem;\r\n\t\t\ttext-align: left;\r\n\t\t\tcolor: rgb(236, 65, 65);\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\t\t.artists {\r\n\t\t\tmargin-left: 22rem;\r\n\t\t\twidth: 16rem;\r\n\t\t\tcolor: #b9b9b9;\r\n\t\t\ttext-align: left;\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\t\t.album {\r\n\t\t\twidth: calc(100% - 58.75rem);\r\n\t\t\tcolor: #b9b9b9;\r\n\t\t\ttext-align: left;\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\t\t.dur {\r\n\t\t\ttext-align: left;\r\n\t\t\twidth: 5rem;\r\n\t\t\tcolor: #b9b9b9;\r\n\t\t}\r\n\t}\r\n\t.status-bar {\r\n\t\twidth: 270px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\t.play-all {\r\n\t\ttext-align: center;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n`;\r\n\r\ninterface StatusBarProps {\r\n\tactivated: boolean;\r\n}\r\nconst StatusTab = styled.div<StatusBarProps>`\r\n\t&:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\tcolor: ${(props) => (props.activated ? \"black\" : \"gray\")};\r\n`;\r\nconst tabMap = [\r\n\t{\r\n\t\ttype: 0,\r\n\t\ttext: \"全部\",\r\n\t},\r\n\t{\r\n\t\ttype: 7,\r\n\t\ttext: \"华语\",\r\n\t},\r\n\t{\r\n\t\ttype: 96,\r\n\t\ttext: \"欧美\",\r\n\t},\r\n\t{\r\n\t\ttype: 8,\r\n\t\ttext: \"日本\",\r\n\t},\r\n\t{\r\n\t\ttype: 16,\r\n\t\ttext: \"韩国\",\r\n\t},\r\n];\r\nconst StyledButton = styled(Button)`\r\n\twidth: 8rem;\r\n\ttext-align: center;\r\n\theight: 2rem;\r\n\tcolor: white;\r\n\tbackground-color: rgb(236, 65, 65);\r\n\tborder-radius: 1rem;\r\n\t&:hover {\r\n\t\tcolor: white;\r\n\t\tbackground-color: rgb(236, 65, 65);\r\n\t}\r\n`;\r\ninterface PlayButtonProps {\r\n\tonClick: () => void;\r\n}\r\n\r\nexport const PlayButton = ({ onClick }: PlayButtonProps) => {\r\n\treturn (\r\n\t\t<div className=\"btn\" onClick={onClick}>\r\n\t\t\t<StyledButton startIcon={<ArrowForwardIos />}>\r\n\t\t\t\t播放全部\r\n\t\t\t</StyledButton>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport const LatestSongs = () => {\r\n\tconst [songId, setSongId] = useState(0);\r\n\tconst { songIds, setSongIds, setDuration, setArtists, setName, setUrl,setCurrI } =\r\n\t\tuseContext(MusicContext);\r\n\tconst [type, setType] = useState(0);\r\n\tconst { data: res } = useSWR(`/top/song?type=${type}`, fetcher);\r\n\tuseEffect(() => {\r\n\t\tres && setSongIds(res.data.map(({ id }: any) => id));\r\n\t}, [res]);\r\n\tconst derivedData = useMemo(() => {\r\n\t\treturn (\r\n\t\t\tres &&\r\n\t\t\tres?.data.map(\r\n\t\t\t\t(\r\n\t\t\t\t\t{ name, album, artists, id, duration }: any,\r\n\t\t\t\t\tindex: number\r\n\t\t\t\t) => {\r\n\t\t\t\t\tconst { blurPicUrl: picUrl, name: albumName } = album;\r\n\t\t\t\t\tconst artistsName = artists\r\n\t\t\t\t\t\t.map((artist: any) => artist.name)\r\n\t\t\t\t\t\t.join(\"/\");\r\n\r\n\t\t\t\t\tconst minutes = Math.floor(duration / 60000);\r\n\t\t\t\t\tconst seconds = Math.floor(duration / 1000) - minutes * 60;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tartistsName,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\turl: picUrl,\r\n\t\t\t\t\t\tduration: `${minutes}:${\r\n\t\t\t\t\t\t\tseconds < 10 ? `0${seconds}` : seconds\r\n\t\t\t\t\t\t}`,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [res]);\r\n\r\n\treturn (\r\n\t\t<StyledContainer>\r\n\t\t\t<div className=\"header\">\r\n\t\t\t\t<div className=\"status-bar\">\r\n\t\t\t\t\t{tabMap.map(({ type: type_, text }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<StatusTab\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetType(type_);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tactivated={type === type_}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{text}\r\n\t\t\t\t\t\t\t</StatusTab>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<PlayButton\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tif (derivedData) {\r\n\t\t\t\t\t\t\tconst first=derivedData[0];\r\n\t\t\t\t\t\t\tconsole.log(first);\r\n\t\t\t\t\t\t\tsetName(first.name);\r\n\t\t\t\t\t\t\tsetDuration(first.duration);\r\n\t\t\t\t\t\t\tsetArtists(first.artistsName);\r\n\t\t\t\t\t\t\tsetUrl(first.url);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tres&&setSongId(res.data[0].id);\r\n\t\t\t\t\t\tconst i=songIds.indexOf(songId);\r\n\t\t\t\t\t\tif(i>=0){\r\n\t\t\t\t\t\t\tsetCurrI(i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{res &&\r\n\t\t\t\tres?.data.map(\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\t{ name, album, artists, id, duration }: any,\r\n\t\t\t\t\t\tindex: number\r\n\t\t\t\t\t) => {\r\n\t\t\t\t\t\tconst { blurPicUrl: picUrl, name: albumName } = album;\r\n\t\t\t\t\t\tconst artistsName = artists\r\n\t\t\t\t\t\t\t.map((artist: any) => artist.name)\r\n\t\t\t\t\t\t\t.join(\"/\");\r\n\r\n\t\t\t\t\t\tconst minutes = Math.floor(duration / 60000);\r\n\t\t\t\t\t\tconst seconds =\r\n\t\t\t\t\t\t\tMath.floor(duration / 1000) - minutes * 60;\r\n\t\t\t\t\t\tconst dur=`${minutes}:${\r\n\t\t\t\t\t\t\tseconds < 10 ? `0${seconds}` : seconds\r\n\t\t\t\t\t\t}`\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\tclassName=\"list-item\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: `${\r\n\t\t\t\t\t\t\t\t\t\tindex % 2 === 0 && \"#f5f5f5\"\r\n\t\t\t\t\t\t\t\t\t}`,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonDoubleClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetSongId(id);\r\n\t\t\t\t\t\t\t\t\tsetName(name);\r\n\t\t\t\t\t\t\t\t\tsetArtists(artistsName);\r\n\t\t\t\t\t\t\t\t\tsetDuration(dur);\r\n\t\t\t\t\t\t\t\t\tsetUrl(picUrl);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{songId === id ? (\r\n\t\t\t\t\t\t\t\t\t<EqualizerIcon className=\"equalizer\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"i\">{index}</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<StyledListPic\r\n\t\t\t\t\t\t\t\t\twidth={3.75}\r\n\t\t\t\t\t\t\t\t\theight={3.75}\r\n\t\t\t\t\t\t\t\t\tsrc={picUrl}\r\n\t\t\t\t\t\t\t\t\tbdr={0.5}\r\n\t\t\t\t\t\t\t\t></StyledListPic>\r\n\t\t\t\t\t\t\t\t{songId === id ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"name-red\">{name}</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"name\">{name}</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"artists\">{artistsName}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"album\">{albumName}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"dur\">{dur}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t)}\r\n\t\t\t{!res && <CircularProgress />}\r\n\t\t</StyledContainer>\r\n\t);\r\n};\r\n","import React from 'react'\r\n \r\nlet audio=new Audio();\r\n\r\nexport const useAudio = () => {\r\n    return audio;\r\n}\r\n","import styled from \"@emotion/styled\";\r\nimport {\r\n\tPause,\r\n\tPlayArrow,\r\n\tSkipNext,\r\n\tSkipPrevious,\r\n\tVolumeUp,\r\n} from \"@mui/icons-material\";\r\nimport { IconButton, LinearProgress, Slider } from \"@mui/material\";\r\nimport React, {\r\n\tChangeEvent,\r\n\tcreateContext,\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseState,\r\n} from \"react\";\r\nimport useSWR from \"swr\";\r\n\r\nimport { useAudio } from \"../hooks/useAudio\";\r\nimport { useUpdate } from \"../hooks/useUpdate\";\r\n\r\nimport { MusicContext } from \"../util/context\";\r\nimport { fetcher } from \"../util/network\";\r\nimport { StyledListPic } from \"./RecommendList\";\r\n\r\nconst Layout = styled.div`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tpadding-right: 1rem;\r\n\tpadding-left: 1rem;\r\n\t.info {\r\n\t\twidth: 20%;\r\n\t\theight: 100%;\r\n\t\talign-items: center;\r\n\t\tdisplay: flex;\r\n\t\ttext-align: left;\r\n\t\t.info-text {\r\n\t\t\tmargin-left: 1rem;\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\t}\r\n\t.control {\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 60%;\r\n\t\tflex-direction: column;\r\n\t\t.progress {\r\n\t\t\theight: 1rem;\r\n\t\t\twidth: 24rem;\r\n\t\t\tdisplay: inline-flex;\r\n\t\t\t.MuiSlider-root {\r\n\t\t\t\tmargin-left: 1rem;\r\n\t\t\t\tmargin-right: 1rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.volume {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 20%;\r\n\t\tjustify-content: center;\r\n\t\t.icon {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\twidth: 2rem;\r\n\t\t}\r\n\t\t.MuiSlider-root {\r\n\t\t\twidth: 8rem;\r\n\t\t\t.MuiSlider-thumb {\r\n\t\t\t\twidth: 1rem;\r\n\t\t\t\theight: 1rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\ninterface Props {}\r\n\r\nexport const MusicPlayer = () => {\r\n\tconst { name, artists, duration, url, currI, songIds, setCurrI } =\r\n\t\tuseContext(MusicContext);\r\n\tconst audio = useAudio();\r\n\tconst [progress, setProgress] = useState(0);\r\n\tconst [volume, setVolume] = useState(50);\r\n\tconst { data: urlData } = useSWR(() => {\r\n\t\t// console.log(currI, songIds);\r\n\t\tif (currI >= 0 && songIds && songIds.length > 0) {\r\n\t\t\tconst songId = songIds[currI];\r\n\t\t\treturn `/song/url?id=${songId}`;\r\n\t\t} else {\r\n\t\t\treturn `/song/url?id=${0}`;\r\n\t\t}\r\n\t}, fetcher);\r\n\r\n\tconst [paused, setPaused] = useState(true);\r\n\tconsole.log(\"rerender\", audio.paused);\r\n\tuseEffect(() => {\r\n\t\tconst listener1 = () => {\r\n\t\t\tsetPaused(false);\r\n\t\t};\r\n\t\tconst listener2 = () => {\r\n\t\t\tsetPaused(true);\r\n\t\t};\r\n\t\taudio.addEventListener(\"play\", listener1);\r\n\t\taudio.addEventListener(\"pause\", listener2);\r\n\t\treturn () => {\r\n\t\t\taudio.removeEventListener(\"play\", listener1);\r\n\t\t\taudio.removeEventListener(\"pause\", listener2);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (urlData && urlData.data[0]) {\r\n\t\t\taudio.src = urlData.data[0].url;\r\n\t\t\tconsole.log(audio);\r\n\t\t}\r\n\t}, [urlData]);\r\n\r\n\treturn (\r\n\t\t<Layout>\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t<StyledListPic width={3} height={3} bdr={0.5} src={url} />\r\n\t\t\t\t<div className=\"info-text\">\r\n\t\t\t\t\t<div className=\"name\">{name}</div>\r\n\t\t\t\t\t<div className=\"artists\">{artists}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"control\">\r\n\t\t\t\t<div className=\"btns\">\r\n\t\t\t\t\t<IconButton className=\"prev-btn\">\r\n\t\t\t\t\t\t<SkipPrevious></SkipPrevious>\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t{!paused ? (\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tclassName=\"play-btn\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\turlData &&\r\n\t\t\t\t\t\t\t\t\turlData.data &&\r\n\t\t\t\t\t\t\t\t\turlData.data[0]\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\taudio.pause();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Pause />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tclassName=\"play-btn\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\turlData &&\r\n\t\t\t\t\t\t\t\t\turlData.data &&\r\n\t\t\t\t\t\t\t\t\turlData.data[0]\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\taudio.play();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlayArrow />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tclassName=\"next-btn\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\taudio.pause();\r\n\t\t\t\t\t\t\tsetCurrI((currI + 1) % songIds.length);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SkipNext></SkipNext>\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"volume\">\r\n\t\t\t\t<VolumeUp className=\"icon\"></VolumeUp>\r\n\t\t\t\t<Slider\r\n\t\t\t\t\tonChange={(_, newVal) => {\r\n\t\t\t\t\t\tif (typeof newVal === \"number\") {\r\n\t\t\t\t\t\t\taudio.volume = newVal / 100;\r\n\t\t\t\t\t\t\tsetVolume(newVal);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={volume}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n","import styled from \"@emotion/styled\";\r\nimport { CircularProgress } from \"@mui/material\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useSWR from \"swr\";\r\nimport { fetcher } from \"../util/network\";\r\nimport { VidCategories, vidCats } from \"./Categories\";\r\nimport { StyledListPic } from \"./RecommendList\";\r\nconst StyledContainer = styled.div`\r\n\tmargin-top: 1rem;\r\n\t.status {\r\n\t\tmargin-bottom: 1rem;\r\n\t\tfont-size: 16px;\r\n\t\theight: 32px;\r\n\t\twidth: 70rem;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t.wrapper {\r\n\t\t\tflex-basis: 50%;\r\n\t\t}\r\n\t\t.curr-cat {\r\n\t\t\twidth: 104px;\r\n\t\t\theight: 32px;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tdisplay: flex;\r\n\t\t\tfont-size: 16px;\r\n\t\t\tborder-style: solid;\r\n\t\t\tborder-radius: 16px;\r\n\t\t\tborder-width: 1px;\r\n\t\t\tborder-color: gray;\r\n\t\t}\r\n\t\t.cat-name {\r\n\t\t\tfont-size: small;\r\n\t\t\theight: 16px;\r\n\t\t\tflex-basis: 4rem;\r\n\t\t\tuser-select: none;\r\n\t\t}\r\n\t\t.selected {\r\n\t\t\tbackground-color: rgb(253, 245, 245);\r\n\t\t\tborder-radius: 12px;\r\n\t\t\tcolor: rgb(236, 65, 65);\r\n\t\t}\r\n\t}\r\n\t.list {\r\n\t\tdisplay: flex;\r\n\t\twidth: 70rem;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\talign-content: space-between;\r\n\t\t.item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\twidth: 16rem;\r\n\t\t\theight: 14rem;\r\n\t\t\tspan {\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    .link{\r\n        text-decoration:none;\r\n        color:black;\r\n    }\r\n`;\r\ninterface Props {}\r\n\r\nexport const Videos = (props: Props) => {\r\n\tconst [currCat, setCurrCat] = useState(\"最佳饭制\");\r\n\tconst [offset, setOffset] = useState(0);\r\n\tconst [videos, setVideos] = useState<any[]>([]);\r\n\tconst divRef = useRef<HTMLDivElement>(null);\r\n\tconst intersectionObserverRef = useRef<IntersectionObserver | null>(null);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst item = vidCats.find(({ name }) => name === currCat);\r\n\t\t\tconst res: any = await fetch(\r\n\t\t\t\t`/video/group?id=${item?.id}&&offset=${offset * 8}`\r\n\t\t\t).then((res) => res.json());\r\n\t\t\tconst { datas } = res;\r\n\t\t\tsetVideos((videos) => [...videos, ...datas]);\r\n\t\t\tsetLoading(false);\r\n\t\t})();\r\n\t}, [offset]);\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n            setVideos([]);\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst item = vidCats.find(({ name }) => name === currCat);\r\n\t\t\tconst res: any = await fetch(\r\n\t\t\t\t`/video/group?id=${item?.id}`\r\n\t\t\t).then((res) => res.json());\r\n\t\t\tconst { datas } = res;\r\n\t\t\tsetVideos(datas);\r\n\t\t\tsetLoading(false);\r\n\t\t})();\r\n\t}, [currCat]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst $node = divRef.current as HTMLDivElement;\r\n\t\tintersectionObserverRef.current = new IntersectionObserver(\r\n\t\t\t(entries) => {\r\n\t\t\t\tconsole.log(entries);\r\n\t\t\t\tif (entries[0] && entries[0].isIntersecting) {\r\n\t\t\t\t\tsetOffset((val) => (val >= 100 ? 100 : val + 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\tintersectionObserverRef.current.observe($node);\r\n\t\treturn () => {\r\n\t\t\ttry {\r\n\t\t\t\tintersectionObserverRef.current?.unobserve($node);\r\n\t\t\t\tintersectionObserverRef.current?.disconnect();\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e); // nothing to do\r\n\t\t\t}\r\n\t\t};\r\n\t}, [divRef.current]);\r\n\treturn (\r\n\t\t<StyledContainer>\r\n\t\t\t<VidCategories\r\n\t\t\t\tcurrCat={currCat}\r\n\t\t\t\tsetCurrCat={setCurrCat}\r\n\t\t\t></VidCategories>\r\n\t\t\t<div className=\"list\">\r\n\t\t\t\t{videos &&\r\n\t\t\t\t\tvideos.map(({ data }: any, index: number) => {\r\n\t\t\t\t\t\tlet { coverUrl, title, name,vid } = data;\r\n\t\t\t\t\t\tif (name) {\r\n\t\t\t\t\t\t\ttitle = name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"item\" key={title}>\r\n\t\t\t\t\t\t\t\t<StyledListPic\r\n\t\t\t\t\t\t\t\t\tsrc={coverUrl}\r\n\t\t\t\t\t\t\t\t\twidth={16}\r\n\t\t\t\t\t\t\t\t\theight={9}\r\n\t\t\t\t\t\t\t\t></StyledListPic>\r\n\t\t\t\t\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t\t\t\t\t<Link className=\"link\" to={`/videos/${vid}`}>{title}</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div ref={divRef} style={{ width: \"100%\", height: \"2rem\" }}>\r\n\t\t\t\t{loading && <CircularProgress></CircularProgress>}\r\n\t\t\t</div>\r\n\t\t</StyledContainer>\r\n\t);\r\n};\r\n","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useSWR from \"swr\";\r\nimport { StyledListPic } from \"./RecommendList\";\r\nconst StyledContainer = styled.div`\r\n\tdisplay: flex;\r\n\twidth: 70rem;\r\n\t.vd {\r\n        width:620px;\r\n\t\t.title {\r\n\t\t\tcolor: black;\r\n\t\t\tfont-weight: 600;\r\n\t\t\ttext-align: left;\r\n\t\t\tmargin-bottom: 0.5rem;\r\n\t\t}\r\n\t\t.name {\r\n            overflow: hidden;\r\n\t\t\ttext-align: left;\r\n            overflow: hidden;\r\n\t\t}\r\n\t\t.play-times {\r\n\t\t\ttext-align: left;\r\n\t\t\tcolor: gray;\r\n\t\t}\r\n\t}\r\n\t.recom {\r\n\t\tmargin-left: 2rem;\r\n\t\t.title {\r\n\t\t\tfont-weight: 600;\r\n\t\t\ttext-align: left;\r\n\t\t}\r\n\t\t.list-item {\r\n\t\t\twidth: 25rem;\r\n\t\t\theight: 6rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t.link {\r\n\t\t\t\tcolor: black;\r\n\t\t\t\ttext-decoration: none;\r\n\t\t\t\tmargin-left: 1rem;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\theight: 3rem;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nfunction fetcher(...urls: string[]) {\r\n\tconst f = (u: string) => fetch(u).then((r) => r.json());\r\n\r\n\tif (urls.length > 1) {\r\n\t\treturn Promise.all(urls.map(f));\r\n\t}\r\n\treturn undefined;\r\n}\r\nexport const VideoPlayer = () => {\r\n\tlet { vid } = useParams<any>();\r\n\tconst { data } = useSWR(\r\n\t\t[\r\n\t\t\t`/related/allvideo?id=${vid}`,\r\n\t\t\t`/video/detail?id=${vid}`,\r\n\t\t\t`/video/url?id=${vid}`,\r\n\t\t],\r\n\t\tfetcher\r\n\t);\r\n\tconst getPlayTimes = (times: number) => {\r\n\t\tif (times >= 100000) {\r\n\t\t\treturn `播放 ${Math.floor(times / 10000)}万次`;\r\n\t\t} else return `播放 ${times}次`;\r\n\t};\r\n\treturn (\r\n\t\t<StyledContainer>\r\n\t\t\t<div className=\"vd\">\r\n\t\t\t\t<div className=\"title\">视频详情</div>\r\n\t\t\t\t{data && data[2] && (\r\n\t\t\t\t\t<video width={620} height={355} controls>\r\n\t\t\t\t\t\t<source src={data[2].urls[0].url}></source>\r\n\t\t\t\t\t</video>\r\n\t\t\t\t)}\r\n\t\t\t\t{data && <h2 className=\"name\">{data[1].data.title}</h2>}\r\n\r\n\t\t\t\t{data && (\r\n\t\t\t\t\t<div className=\"play-times\">\r\n\t\t\t\t\t\t{getPlayTimes(data[1].data.playTime)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"recom\">\r\n\t\t\t\t<div className=\"title\">相关推荐</div>\r\n\t\t\t\t{data &&\r\n\t\t\t\t\tdata[0]?.data.map((data: any) => {\r\n\t\t\t\t\t\tconst { coverUrl, title, vid } = data;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"list-item\" key={title}>\r\n\t\t\t\t\t\t\t\t<StyledListPic\r\n\t\t\t\t\t\t\t\t\theight={5}\r\n\t\t\t\t\t\t\t\t\twidth={9}\r\n\t\t\t\t\t\t\t\t\tbdr={0.5}\r\n\t\t\t\t\t\t\t\t\tsrc={coverUrl}\r\n\t\t\t\t\t\t\t\t></StyledListPic>\r\n\t\t\t\t\t\t\t\t<Link className=\"link\" to={`/videos/${vid}`}>\r\n\t\t\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</StyledContainer>\r\n\t);\r\n};\r\n","export const getDur = (duration: number) => {\r\n\tconst minutes = Math.floor(duration / 60000);\r\n\tconst seconds = Math.floor(duration / 1000) - minutes * 60;\r\n\tconst dur = `${minutes < 10 ? `0${minutes}` : `${minutes}`}:${\r\n\t\tseconds < 10 ? `0${seconds}` : seconds\r\n\t}`;\r\n    return dur;\r\n};\r\n","import styled from \"@emotion/styled\";\r\nimport { Avatar, CircularProgress, List } from \"@mui/material\";\r\nimport React, { useContext, useEffect, useMemo } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport useSWR from \"swr\";\r\nimport { getDur } from \"../util/math\";\r\nimport { fetcher, fetcherAll } from \"../util/network\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport { StyledListPic } from \"./RecommendList\";\r\nimport { MusicContext } from \"../util/context\";\r\nimport { useAudio } from \"../hooks/useAudio\";\r\nconst StyledDiv = styled.div`\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\t.header {\r\n\t\tmargin-left: 2rem;\r\n\t\tdisplay: flex;\r\n\t\t.info {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\twidth: 100%;\r\n\t\t\ttext-align: left;\r\n\t\t\tmargin-left: 1rem;\r\n\t\t\t.creator {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tcolor: gray;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\nconst StyledTable = styled(Table)`\r\n\twidth: 100%;\r\n\tcolor: black;\r\n\t.table-body {\r\n\t\twidth: 100%;\r\n\t}\r\n\t.table-row {\r\n\t\t&:hover {\r\n\t\t\tbackground: #e4e3e378;\r\n\t\t}\r\n\t\twidth: 100%;\r\n\t\t.i {\r\n\t\t\tpadding-left: 2rem;\r\n\t\t\twidth: 4rem;\r\n\t\t\tcolor: gray;\r\n\t\t}\r\n\t\t.name {\r\n\t\t\twidth: 36%;\r\n\t\t\tfont-weight: 600;\r\n\t\t}\r\n\t\t.r-name {\r\n\t\t\twidth: 36%;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: rgb(234, 54, 54);\r\n\t\t}\r\n\t\t.artist {\r\n\t\t\twidth: 17%;\r\n\t\t\tcolor: gray;\r\n\t\t}\r\n\t\t.album {\r\n\t\t\twidth: 25%;\r\n\t\t\tcolor: gray;\r\n\t\t\tdiv {\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.dur {\r\n\t\t\twidth: calc(100% - 6rem - 36% - 17% - 20%);\r\n\t\t\tcolor: gray;\r\n\t\t\ttext-align: right;\r\n\t\t\tpadding-right: 2rem;\r\n\t\t}\r\n\t}\r\n`;\r\nconst getTrackIdsUrl = (data: any) =>\r\n\tdata?.playlist?.trackIds\r\n\t\t.map(({ id }: any) => id)\r\n\t\t.slice(0, 200)\r\n\t\t.reduce((accumulator: string, currentValue: string) => {\r\n\t\t\treturn accumulator + currentValue + \",\";\r\n\t\t}, \"/song/detail?ids=\")\r\n\t\t.slice(0, -1);\r\nconst getSongIds = (data: any) =>\r\n\tdata?.playlist?.trackIds.map(({ id }: any) => id).slice(0, 200);\r\nexport const MusicList = () => {\r\n\tconst { id } = useParams<any>();\r\n\tconst { data: listData } = useSWR(`/playlist/detail?id=${id}`, fetcher);\r\n\tconst trackIdsUrl = useMemo(() => getTrackIdsUrl(listData), [listData]);\r\n\tconst { data: tracks } = useSWR(trackIdsUrl, fetcher);\r\n\tconst {\r\n\t\tsetArtists,\r\n\t\tsetDuration,\r\n\t\tsetName,\r\n\t\tsetUrl,\r\n\t\tsetSongIds,\r\n\t\tsetCurrI,\r\n\t\tcurrI,\r\n\t} = useContext(MusicContext);\r\n\r\n\tconst audio = useAudio();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (tracks) {\r\n\t\t\tconst song = tracks.songs[currI];\r\n\t\t\tconst { name, al: album, ar: artists, dt: duration } = song;\r\n\t\t\tconst albumPicUrl = album.picUrl;\r\n\t\t\tconst artistName = artists[0].name;\r\n\t\t\tconst dur = getDur(duration);\r\n\t\t\tsetUrl(albumPicUrl);\r\n\t\t\tsetName(name);\r\n\t\t\tsetArtists(artistName);\r\n\t\t\tsetDuration(dur);\r\n\t\t}\r\n\t}, [currI]);\r\n\r\n\treturn (\r\n\t\t<StyledDiv>\r\n\t\t\t{!listData && <CircularProgress />}\r\n\t\t\t{listData && (\r\n\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t<StyledListPic\r\n\t\t\t\t\t\twidth={12}\r\n\t\t\t\t\t\theight={12}\r\n\t\t\t\t\t\tbdr={0.5}\r\n\t\t\t\t\t\tsrc={listData.playlist.coverImgUrl}\r\n\t\t\t\t\t></StyledListPic>\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<h3>{listData.playlist.name}</h3>\r\n\t\t\t\t\t\t<div className=\"creator\">\r\n\t\t\t\t\t\t\t<Avatar src={listData.playlist.creator.avatarUrl} />\r\n\t\t\t\t\t\t\t{listData.playlist.creator.nickname}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<StyledTable>\r\n\t\t\t\t{(!listData || !tracks) && <CircularProgress />}\r\n\t\t\t\t<TableHead className=\"table-head\">\r\n\t\t\t\t\t<TableCell></TableCell>\r\n\t\t\t\t\t<TableCell>音乐标题</TableCell>\r\n\t\t\t\t\t<TableCell>歌手</TableCell>\r\n\t\t\t\t\t<TableCell>专辑</TableCell>\r\n\t\t\t\t\t<TableCell align=\"right\" sx={{ paddingRight: \"2rem\" }}>\r\n\t\t\t\t\t\t时长\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableHead>\r\n\t\t\t\t<TableBody className=\"table-body\">\r\n\t\t\t\t\t{listData &&\r\n\t\t\t\t\t\ttracks &&\r\n\t\t\t\t\t\ttracks.songs.map((song: any, index: number) => {\r\n\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\t\tal: album,\r\n\t\t\t\t\t\t\t\tar: artists,\r\n\t\t\t\t\t\t\t\tdt: duration,\r\n\t\t\t\t\t\t\t} = song;\r\n\t\t\t\t\t\t\tconst albumPicUrl = album.picUrl;\r\n\t\t\t\t\t\t\tconst albumName = album.name;\r\n\t\t\t\t\t\t\tconst artistName = artists[0].name;\r\n\t\t\t\t\t\t\tconst dur = getDur(duration);\r\n\t\t\t\t\t\t\tconst handleClick = () => {\r\n\t\t\t\t\t\t\t\tsetArtists(artistName);\r\n\t\t\t\t\t\t\t\tsetDuration(dur);\r\n\t\t\t\t\t\t\t\tsetUrl(albumPicUrl);\r\n\t\t\t\t\t\t\t\tsetName(name);\r\n\t\t\t\t\t\t\t\tsetSongIds(getSongIds(listData));\r\n\t\t\t\t\t\t\t\tsetCurrI(index);\r\n\t\t\t\t\t\t\t\taudio.pause();\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<TableRow\r\n\t\t\t\t\t\t\t\t\tclassName=\"table-row\"\r\n\t\t\t\t\t\t\t\t\tkey={name}\r\n\t\t\t\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<TableCell className=\"i\">\r\n\t\t\t\t\t\t\t\t\t\t{index + 1}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\tcurrI === index ? \"r-name\" : \"name\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell className=\"artist\">\r\n\t\t\t\t\t\t\t\t\t\t{artistName}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell className=\"album\">\r\n\t\t\t\t\t\t\t\t\t\t<div>{albumName}</div>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell className=\"dur\">{dur}</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</TableBody>\r\n\t\t\t</StyledTable>\r\n\t\t</StyledDiv>\r\n\t);\r\n};\r\n","import React, {\r\n\tcreateContext,\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tuseState,\r\n} from \"react\";\r\nimport \"./App.css\";\r\nimport { ContentWrapper } from \"./Components/ContentWrapper\";\r\nimport { Footer } from \"./Components/Footer\";\r\nimport { Header, HeaderContent } from \"./Components/Header\";\r\nimport { Layout } from \"./Components/Layout\";\r\nimport { ScrollContent } from \"./Components/ScrollContent\";\r\nimport { Sider } from \"./Components/Sider\";\r\nimport { SiderLink } from \"./Components/SiderLink\";\r\nimport { Tab } from \"./Components/Tab\";\r\nimport { TabBar } from \"./Components/TabBar\";\r\nimport {\r\n\tcheckCookie,\r\n\tlogin,\r\n\tLoginStatusContext,\r\n\tlogout,\r\n} from \"./hooks/useAuth\";\r\nimport {\r\n\tLink,\r\n\tRoute,\r\n\tBrowserRouter as Router,\r\n\tSwitch,\r\n\tRedirect,\r\n\tuseHistory,\r\n} from \"react-router-dom\";\r\nimport { red } from \"@mui/material/colors\";\r\nimport { styled } from \"@mui/system\";\r\nimport {\r\n\tAvatar,\r\n\tBox,\r\n\tButton,\r\n\tcreateTheme,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n\tTextField,\r\n\tThemeProvider,\r\n\tTypography,\r\n} from \"@mui/material\";\r\nimport { LoginOutlined, LogoutOutlined } from \"@mui/icons-material\";\r\nimport useSWR from \"swr\";\r\nimport { useMount } from \"./hooks/useMount\";\r\nimport { Carousel } from \"./Components/Carousel\";\r\nimport { fetcher } from \"./util/network\";\r\nimport { StyledArrowLeft, StyledArrowRight } from \"./Components/Arrow\";\r\nimport { Title } from \"./Components/Title\";\r\nimport { RecommendList } from \"./Components/RecommendList\";\r\nimport { PrivateContent } from \"./Components/PrivateContent\";\r\nimport { NewSongsList } from \"./Components/NewSongsList\";\r\nimport { RecommendMv } from \"./Components/RecommendMv\";\r\nimport { RecommendTabs } from \"./Components/RecommendTabs\";\r\nimport { MusicLists } from \"./Components/MusicLists\";\r\nimport { LatestSongs } from \"./Components/LatestSongs\";\r\nimport { MusicContext } from \"./util/context\";\r\nimport { MusicPlayer } from \"./Components/MusicPlayer\";\r\nimport { Videos } from \"./Components/Videos\";\r\nimport { VideoPlayer } from \"./Components/VideoPlayer\";\r\nimport { MusicList } from \"./Components/MusicList\";\r\n\r\nconst StyledAvatar = styled(Avatar)`\r\n\tmargin-right: 8px;\r\n`;\r\n\r\nconst StyledNickName = styled(Typography)`\r\n\tcolor: white;\r\n\twidth: 64px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n\tcolor: white;\r\n`;\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: red,\r\n\t},\r\n});\r\n\r\nfunction App() {\r\n\tconst phone = useRef(\"\");\r\n\tconst psw = useRef(\"\");\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [errTextField, setErrTextField] = useState(false);\r\n\tconst [loginStatus, setLoginStatus] = useState(checkCookie());\r\n\tconst [uid, setUid] = useState<number | null>(null);\r\n\tconst { data: user, error } = useSWR(\r\n\t\t() => `/user/detail?uid=${uid}`,\r\n\t\tfetcher\r\n\t);\r\n\tconst [songIds, setSongIds] = useState<number[]>([]);\r\n\tconst [artists, setArtists] = useState<string>(\"\");\r\n\tconst [duration, setDuration] = useState<string>(\"\");\r\n\tconst [name, setName] = useState<string>(\"\");\r\n\tconst [url, setUrl] = useState<string>(\"\");\r\n\tconst [currI, setCurrI] = useState(-1);\r\n\r\n\tuseMount(() => {\r\n\t\tconst cookie_ = window.localStorage.getItem(\"cookie\");\r\n\t\tconst uid_ = window.localStorage.getItem(\"uid\");\r\n\t\tif (cookie_ && uid_) {\r\n\t\t\tdocument.cookie = cookie_;\r\n\t\t\tsetLoginStatus(true);\r\n\t\t\tsetOpen(false);\r\n\t\t\tsetUid(parseInt(uid_));\r\n\t\t} else {\r\n\t\t\tsetLoginStatus(false);\r\n\t\t\tsetOpen(true);\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClickOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleLogin = () => {\r\n\t\tlogin(phone.current, psw.current).then((res) => {\r\n\t\t\tif (res.code === 200) {\r\n\t\t\t\tsetOpen(false);\r\n\t\t\t\tsetLoginStatus(true);\r\n\t\t\t\tsetErrTextField(false);\r\n\t\t\t\tsetUid(res?.account?.id);\r\n\t\t\t\twindow.localStorage.setItem(\r\n\t\t\t\t\t\"uid\",\r\n\t\t\t\t\tJSON.stringify(res?.account?.id)\r\n\t\t\t\t);\r\n\t\t\t\twindow.localStorage.setItem(\"cookie\", document.cookie);\r\n\t\t\t\t// console.log(document.cookie);\r\n\t\t\t} else {\r\n\t\t\t\tsetErrTextField(true);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleLogout = () => {\r\n\t\tlogout().then((res) => {\r\n\t\t\tconsole.log(res);\r\n\t\t\tif (res.code === 200) {\r\n\t\t\t\tsetLoginStatus(false);\r\n\t\t\t\tsetUid(null);\r\n\t\t\t\twindow.localStorage.removeItem(\"uid\");\r\n\t\t\t\twindow.localStorage.removeItem(\"cookie\");\r\n\t\t\t\t// window.location.reload();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\tconst handlePhoneChange: React.ChangeEventHandler<\r\n\t\tHTMLInputElement | HTMLTextAreaElement\r\n\t> = (e) => {\r\n\t\tphone.current = e.target.value;\r\n\t};\r\n\r\n\tconst handlePswChange: React.ChangeEventHandler<\r\n\t\tHTMLInputElement | HTMLTextAreaElement\r\n\t> = (e) => {\r\n\t\tpsw.current = e.target.value;\r\n\t};\r\n\r\n\tconst renderHeader = () => {\r\n\t\treturn (\r\n\t\t\t<Header>\r\n\t\t\t\t<HeaderContent>\r\n\t\t\t\t\t<div className={\"logo\"}>\r\n\t\t\t\t\t\t<img src=\"/logo_netease.png\" alt={\"\"} height={64} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!loginStatus ? (\r\n\t\t\t\t\t\t<StyledButton\r\n\t\t\t\t\t\t\tonClick={handleClickOpen}\r\n\t\t\t\t\t\t\tstartIcon={<LoginOutlined />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t登录\r\n\t\t\t\t\t\t</StyledButton>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<StyledAvatar\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\tsrc={user?.profile?.avatarUrl}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<StyledNickName variant=\"body2\">\r\n\t\t\t\t\t\t\t\t{user?.profile?.nickname}\r\n\t\t\t\t\t\t\t</StyledNickName>\r\n\t\t\t\t\t\t\t<StyledButton\r\n\t\t\t\t\t\t\t\tonClick={handleLogout}\r\n\t\t\t\t\t\t\t\tstartIcon={<LogoutOutlined />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t登出\r\n\t\t\t\t\t\t\t</StyledButton>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</HeaderContent>\r\n\t\t\t</Header>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<LoginStatusContext.Provider value={{ loginStatus, uid }}>\r\n\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<div className=\"App\">\r\n\t\t\t\t\t\t{renderHeader()}\r\n\t\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t\t<Sider></Sider>\r\n\t\t\t\t\t\t\t<div style={{ flexBasis: \"256px\" }}></div>\r\n\t\t\t\t\t\t\t<ContentWrapper>\r\n\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/findmusic\">\r\n\t\t\t\t\t\t\t\t\t\t<RecommendTabs></RecommendTabs>\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"*\">{null}</Route>\r\n\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t<ScrollContent>\r\n\t\t\t\t\t\t\t\t\t<MusicContext.Provider\r\n\t\t\t\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\t\t\t\t\tartists,\r\n\t\t\t\t\t\t\t\t\t\t\tduration,\r\n\t\t\t\t\t\t\t\t\t\t\tsetSongIds,\r\n\t\t\t\t\t\t\t\t\t\t\tsongIds,\r\n\t\t\t\t\t\t\t\t\t\t\tcurrI,\r\n\t\t\t\t\t\t\t\t\t\t\tsetArtists,\r\n\t\t\t\t\t\t\t\t\t\t\tsetDuration,\r\n\t\t\t\t\t\t\t\t\t\t\tsetUrl,\r\n\t\t\t\t\t\t\t\t\t\t\tsetName,\r\n\t\t\t\t\t\t\t\t\t\t\tsetCurrI,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/findmusic\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/findmusic/personalrecommend\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Carousel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdots: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinfinite: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoplay: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoplaySpeed: 2000,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnextArrow: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledArrowRight />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprevArrow: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledArrowLeft />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Title>推荐歌单</Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RecommendList />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Title>独家放送</Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PrivateContent />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Title>最新音乐</Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NewSongsList />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Title>推荐MV</Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RecommendMv />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/findmusic/lists\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MusicLists></MusicLists>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/findmusic/newsongs\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LatestSongs></LatestSongs>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Redirect\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpathname:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"/findmusic/personalrecommend\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t></Redirect>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/videos\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath=\"/videos/:vid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchildren={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VideoPlayer />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t></Route>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/videos\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Videos></Videos>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\t\t\tpath=\"/list/:id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchildren={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MusicList></MusicList>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t></Route>\r\n\t\t\t\t\t\t\t\t\t\t\t<Redirect\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpathname:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"/findmusic/personalrecommend\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate: { from: \"/\" },\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></Redirect>\r\n\t\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t</MusicContext.Provider>\r\n\t\t\t\t\t\t\t\t</ScrollContent>\r\n\t\t\t\t\t\t\t</ContentWrapper>\r\n\t\t\t\t\t\t</Layout>\r\n\r\n\t\t\t\t\t\t<Footer>\r\n\t\t\t\t\t\t\t<MusicContext.Provider\r\n\t\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\t\t\tartists,\r\n\t\t\t\t\t\t\t\t\tduration,\r\n\t\t\t\t\t\t\t\t\tsetSongIds,\r\n\t\t\t\t\t\t\t\t\tsongIds,\r\n\t\t\t\t\t\t\t\t\tsetArtists,\r\n\t\t\t\t\t\t\t\t\tsetDuration,\r\n\t\t\t\t\t\t\t\t\tsetUrl,\r\n\t\t\t\t\t\t\t\t\tsetName,\r\n\t\t\t\t\t\t\t\t\tcurrI,\r\n\t\t\t\t\t\t\t\t\tsetCurrI,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MusicPlayer></MusicPlayer>\r\n\t\t\t\t\t\t\t</MusicContext.Provider>\r\n\t\t\t\t\t\t</Footer>\r\n\t\t\t\t\t\t<Dialog open={open}>\r\n\t\t\t\t\t\t\t<DialogTitle>登录</DialogTitle>\r\n\t\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t\t\t\t请输入网易云音乐的手机号与密码\r\n\t\t\t\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"手机号\"\r\n\t\t\t\t\t\t\t\t\ttype=\"phone\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\tonChange={handlePhoneChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\terror={errTextField}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"密码\"\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\tonChange={handlePswChange}\r\n\t\t\t\t\t\t\t\t\thelperText={errTextField ? \"登录失败\" : \"\"}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button onClick={handleLogin}>提交</Button>\r\n\t\t\t\t\t\t\t\t<Button onClick={handleClose}>取消</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Dialog>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Router>\r\n\t\t\t</ThemeProvider>\r\n\t\t</LoginStatusContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import { useEffect } from \"react\";\r\n\r\nexport function useMount(fn:()=>void){\r\n    useEffect(() => {\r\n        fn();\r\n    }, [])\r\n}\r\n\r\nexport function useUnmount(fn:()=>void){\r\n    useEffect(() => {\r\n        return fn;\r\n    }, [])\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}