(this["webpackJsonpnetease-app"]=this["webpackJsonpnetease-app"]||[]).push([[0],{120:function(t,e,n){},121:function(t,e,n){},150:function(t,e,n){"use strict";n.r(e);var r,a,c,i,s,l,o,d,u,j,b,h,m=n(0),f=n.n(m),x=n(42),p=n.n(x),O=(n(120),n(10)),v=n(11),g=(n(121),n(14)),w=g.a.div(r||(r=Object(v.a)(["\n\tflex: 1 0 auto;\n\theight: 100vh;\n\toverflow-y: hidden;\n\t@media screen and (max-width: 600px) {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n"]))),y=n(1),k=g.a.div(a||(a=Object(v.a)(["\n  position: fixed;\n  bottom: 0;\n  height: 6rem;\n  width: 100vw;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: rgba(237, 242, 247, 1);\n  z-index: 1200;\n  background-color: white;\n"]))),N=function(t){return Object(y.jsx)(k,{children:t.children})},C=g.a.header(c||(c=Object(v.a)(["\n  display: flex;\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  left: 0px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);\n  height: 4rem;\n  border-style: solid;\n  border-width: 0px;\n  border-bottom-width: 1px;\n  border-color: rgba(237, 242, 247, 1);\n  background-color: rgb(236, 65, 65);\n  .logo {\n    width: 256px;\n  }\n"]))),S=g.a.div(i||(i=Object(v.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n"]))),I=g.a.div(s||(s=Object(v.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]))),U=n(16),z=g.a.main(l||(l=Object(v.a)(["\n\twidth: 100%;\n\theight: ",";\n\tpadding-top: ",";\n"])),(function(t){return t.hasTitle?"calc(100vh - 6rem)":"calc(100vh - 4rem)"}),(function(t){return t.hasTitle?"8rem":"6rem"})),E=g.a.div(o||(o=Object(v.a)(["\n\tmax-width: calc(100vw - 256px);\n\twidth: 100%;\n\theight: calc(100vh - 14rem);\n\toverflow-x: hidden;\n\toverflow-y: scroll;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\t@media screen and (max-width: 600px) {\n\t\twidth: 100%;\n\t\tmargin-right: 0;\n\t\tjustify-content: center;\n\t}\n\t@media screen and (min-width: 600px) {\n\t\t&::-webkit-scrollbar {\n\t\t\twidth: 10px;\n\t\t\tbackground-color: transparent;\n\t\t}\n\t\t&::-webkit-scrollbar-thumb {\n\t\t\twidth: 10px;\n\t\t\tborder-radius: 4px;\n\t\t\tbackground-color: #6b6b6b2f;\n\t\t}\n\t}\n"]))),A=function(t){var e=t.children,n=Object(U.h)();return Object(y.jsx)(z,{hasTitle:-1!==n.pathname.indexOf("findmusic"),children:Object(y.jsx)(E,{children:e})})},M=n(18),D=n(20),L=n.n(D),P=n(33),R=function(){var t=Object(P.a)(L.a.mark((function t(){var e=arguments;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch.apply(void 0,e).then((function(t){return t.json()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(P.a)(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R("/logout");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(P.a)(L.a.mark((function t(e,n){var r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/login/cellphone?phone=".concat(e,"&password=").concat(n)).then((function(t){return t.json()}));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),F=Object(m.createContext)({loginStatus:!1,uid:null}),J=g.a.aside(d||(d=Object(v.a)(["\n\t@media screen and (max-width: 600px) {\n\t\tdisplay: none;\n\t}\n\ttop: 4rem;\n\theight: calc(100vh - 4rem - 6rem);\n\tposition: fixed;\n\twidth: 256px;\n\tz-index: 1000;\n"]))),X=g.a.div(u||(u=Object(v.a)(["\n\t@media screen and (max-width: 600px) {\n\t\tdisplay: none;\n\t\t&::-webkit-scrollbar {\n\t\t\twidth: initial;\n\t\t\tbackground-color: initial;\n\t\t}\n\t\t&::-webkit-scrollbar-thumb {\n\t\t\twidth: initial;\n\t\t\tborder-radius: initial;\n\t\t\tbackground-color: initial;\n\t\t}\n\t}\n\tborder-color: rgba(237, 242, 247, 1);\n\twidth: 100%;\n\theight: 100%;\n\tbox-sizing: border-box;\n\tpadding: 1rem;\n\tpadding-right: 2px;\n\tborder-right-width: 1px;\n\tborder-right-style: solid;\n\toverflow-y: scroll;\n\t&::-webkit-scrollbar {\n\t\twidth: 10px;\n\t\tbackground-color: transparent;\n\t}\n\t&::-webkit-scrollbar-thumb {\n\t\twidth: 10px;\n\t\tborder-radius: 4px;\n\t\tbackground-color: #80808022;\n\t}\n"]))),q=function(t){return Object(y.jsx)(J,{children:Object(y.jsx)(X,{children:t.children})})},G=n(25),W=g.a.div(j||(j=Object(v.a)(["\n\tbackground-color: ",";\n\t&:hover {\n\t\tbackground-color: rgb(246, 246, 247);\n\t\tcursor: pointer;\n\t}\n\tfont-weight: ",";\n\tborder-radius: 8px;\n\theight: 2rem;\n\tborder-bottom: 4px solid white;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n"])),(function(t){return t.activated?"rgb(246,246,247)":"white"}),(function(t){return t.activated?"1000":"500"})),_=Object(g.a)(G.b)(b||(b=Object(v.a)(["\n\tcolor: #000000df;\n\ttext-decoration: none;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n"]))),V=function(t){var e=t.text,n=t.path,r=t.activated,a=t.onClick,c=Object(U.g)();return Object(y.jsx)(W,{text:e,path:n,activated:r,onClick:function(){c.push(n),a&&a()},children:Object(y.jsx)(_,{to:n,children:e})})},H=g.a.div(h||(h=Object(v.a)(["\n\tcolor: #808080;\n\tfont-size:small;\n\theight: 3rem;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-left: 8px;\n"]))),K=[{path:"/findmusic",text:"\u53d1\u73b0\u97f3\u4e50"},{path:"/videos",text:"\u89c6\u9891"}],Q=[{path:"/findmusic",text:"\u53d1\u73b0\u97f3\u4e50"},{path:"/videos",text:"\u89c6\u9891"},{path:null,text:"\u6211\u7684\u97f3\u4e50"}],Y=function(){var t,e=Object(m.useState)(0),n=Object(O.a)(e,2),r=(n[0],n[1],Object(m.useContext)(F)),a=Object(M.a)((function(){return"/user/playlist?uid=".concat(r.uid)}),R),c=a.data,i=(a.error,Object(U.h)());return Object(y.jsxs)(q,{children:[!r.loginStatus&&K.map((function(t,e){var n=t.path,r=t.text;return Object(y.jsx)(V,{path:n,text:r,activated:-1!==i.pathname.indexOf(n)},r)})),r.loginStatus&&Q.map((function(t,e){var n=t.path,r=t.text;return n?Object(y.jsx)(V,{path:n,text:r,activated:-1!==i.pathname.indexOf(n)},r):Object(y.jsx)(H,{children:r},r)})),r.loginStatus&&c&&(null===c||void 0===c||null===(t=c.playlist)||void 0===t?void 0:t.map((function(t){return Object(y.jsx)(V,{path:"/list/".concat(t.id),text:t.name,activated:-1!==i.pathname.indexOf("/list/".concat(t.id))},t.id)})))]})},Z=n(49),$=n(203),tt=n(214),et=n(225),nt=n(218),rt=n(88),at=n(215),ct=n(206),it=n(226),st=n(228),lt=n(229),ot=n(230),dt=n(209),ut=n(231),jt=n(204),bt=n(205);var ht=n(83),mt=n(97),ft=n.n(mt);n(146),n(147);var xt,pt,Ot,vt,gt,wt,yt,kt,Nt,Ct,St,It,Ut,zt,Et,At,Mt,Dt,Lt,Pt,Rt,Tt=n(217),Bt=g.a.div(xt||(xt=Object(v.a)(["\n\theight: 16rem;\n\twidth: 43rem;\n\tborder-radius: 1rem;\n\t&:hover {\n\t\t.slick-prev,.slick-next{\n            color:white;\n        }\n\t}\n\t@media screen and (max-width: 600px) {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\twidth: 100vw;\n\t}\n\t\n"]))),Ft=Object(g.a)(ft.a)(pt||(pt=Object(v.a)([""]))),Jt=g.a.div(Ot||(Ot=Object(v.a)(["\n\twidth: 43rem;\n\theight: 16rem;\n\tborder-radius: 1rem;\n\tbackground-size: contain;\n\tbackground-image: url(",");\n"])),(function(t){return t.img})),Xt=function(t){var e=function(){var t=Object(M.a)("/banner",R);return{bannerData:t.data,error:t.error}}().bannerData;return Object(y.jsx)(Bt,{children:e?Object(y.jsx)(Ft,Object(ht.a)(Object(ht.a)({},t),{},{children:e.banners.map((function(t){return Object(y.jsx)(Jt,{img:t.imageUrl},t.imageUrl)}))})):Object(y.jsx)(Tt.a,{})})},qt=n(99),Gt=n.n(qt),Wt=n(100),_t=n.n(Wt),Vt=Object(g.a)(Gt.a)(vt||(vt=Object(v.a)(["\n    transform: translateX(64px);\n    z-index:3000; \n"]))),Ht=Object(g.a)(_t.a)(gt||(gt=Object(v.a)(["\n    transform: translateX(-64px);\n"]))),Kt=n(196),Qt=g.a.span(wt||(wt=Object(v.a)(["\n\tfont-size: 24px;\n\twidth: 86rem;\n\tmargin-top: 1rem;\n\tmargin-bottom: 0.5rem;\n\tfont-weight: 600;\n\tvertical-align: middle;\n\tdisplay: inline-block;\n\ttext-align: left;\n\t.icon {\n\t\tvertical-align: middle;\n\t\tdisplay: inline-block;\n\t}\n\tuser-select: none; /* Standard */\n\t& span:hover {\n\t\tcursor: pointer;\n\t}\n"]))),Yt=function(t){var e=Object(U.g)();return Object(y.jsxs)(Qt,{onClick:function(){t.to&&e.push(t.to)},children:[Object(y.jsx)("span",{children:t.children}),Object(y.jsx)("span",{className:"icon",children:Object(y.jsx)(Kt.a,{})})]})},Zt=g.a.div(yt||(yt=Object(v.a)(["\n    display: flex;\n    width: 86rem;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-content: space-between;\n    .item {\n        display: flex;\n        flex-direction: column;\n        width: 16rem;\n        height: 20rem;\n        .link {\n            text-decoration: none;\n            text-align: left;\n            color: black;\n        }\n    }\n"]))),$t=g.a.div(kt||(kt=Object(v.a)(["\n    width: ",";\n    height: ",";\n    border-radius:",";\n    background-image: url(",");\n    background-size: contain;\n    flex-shrink: 0;\n"])),(function(t){return t.width?"".concat(t.width,"rem"):"16rem"}),(function(t){return t.height?"".concat(t.height,"rem"):"16rem"}),(function(t){return t.bdr?"".concat(t.bdr,"rem"):"1rem"}),(function(t){return t.src?t.src:"/default.png"})),te=new Array(10).fill(null),ee=function(){var t=Object(M.a)("/personalized?limit=10",R),e=t.data,n=(t.error,Object(U.g)());return Object(y.jsx)(Zt,{children:(null===e||void 0===e?void 0:e.result)?e.result.map((function(t){return Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)($t,{src:t.picUrl,onClick:function(){n&&n.push("/list/".concat(t.id))}}),Object(y.jsx)(G.b,{className:"link",to:"/list/".concat(t.id),children:Object(y.jsx)("span",{children:t.name})})]})})):te.map((function(){return Object(y.jsx)(Tt.a,{})}))})},ne=g.a.div(Nt||(Nt=Object(v.a)(["\n    display: flex;\n    width: 86rem;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    .item {\n        display: flex;\n        flex-direction: column;\n        width: 28rem;\n        height: 18rem;\n        span {\n            text-align: left;\n        }\n    }\n"]))),re=new Array(3).fill(null),ae=function(t){var e=Object(M.a)("/personalized/privatecontent",R),n=e.data;e.error;return Object(y.jsx)(ne,{children:(null===n||void 0===n?void 0:n.result)?n.result.map((function(t){return Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)($t,{src:t.sPicUrl,width:28,height:15}),Object(y.jsx)("span",{children:t.name})]})})):re.map((function(){return Object(y.jsx)(Tt.a,{})}))})},ce=new Audio,ie=function(){return ce},se=Object(m.createContext)({name:"",setArtists:function(){},setName:function(){},setDuration:function(){},setUrl:function(){},url:"",artists:"",duration:"",songIds:[],setSongIds:function(){},currI:-1,setCurrI:function(){}}),le=g.a.div(Ct||(Ct=Object(v.a)(["\n\twidth: 86rem;\n\theight: 20rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-wrap: wrap;\n\talign-content: space-between;\n\tjustify-content: space-between;\n\t.item {\n\t\twidth: 27rem;\n\t\theight: 4rem;\n\t\tmargin-bottom: 1rem;\n\t\tdisplay: flex;\n\t\t.intro {\n\t\t\tmargin-left: 1rem;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\ttext-align: left;\n\t\t\tjustify-content: center;\n\t\t\t.author {\n\t\t\t\tcolor: #666565b9;\n\t\t\t}\n\t\t}\n\t}\n    .clicked{\n        background-color: #dfdfdf;\n        border-radius: 1rem;\n    }\n"]))),oe=g.a.div(St||(St=Object(v.a)(["\n\tborder-radius: 1rem;\n\twidth: 4rem;\n\theight: 4rem;\n\tbackground-image: url(",");\n"])),(function(t){return t.src})),de=function(){var t=Object(M.a)("/personalized/newsong?limit=12",R),e=t.data,n=(t.error,Object(m.useContext)(se)),r=(n.setDuration,n.setArtists),a=n.setName,c=n.setUrl,i=n.setCurrI,s=n.currI,l=n.setSongIds;Object(m.useEffect)((function(){e&&l(e.result.map((function(t){return t.id})))}),[e]);var o=ie();return Object(y.jsx)(le,{children:e?e.result.map((function(t,e){return Object(y.jsxs)("div",{className:e===s?"clicked item":" item",onClick:function(){c(t.picUrl),a(t.name),r(t.song.artists[0].name),i(e),o.pause()},children:[Object(y.jsx)(oe,{src:t.picUrl}),Object(y.jsxs)("div",{className:"intro",children:[Object(y.jsx)("span",{className:"name",children:t.name}),Object(y.jsx)("span",{className:"author",children:t.song.artists.map((function(t){return t.name})).join("/")})]})]})})):new Array(12).fill(null).map((function(){return Object(y.jsx)(Tt.a,{})}))})},ue=g.a.div(It||(It=Object(v.a)(["\n    display: flex;\n    width: 86rem;\n    height: 17rem;\n    justify-content: space-between;\n    .mv {\n        display: flex;\n        flex-direction: column;\n        text-align: left;\n        width: 20rem;\n        span {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n        .artists {\n            color: #666565b9;\n        }\n    }\n"]))),je=function(){var t=Object(M.a)("/personalized/mv",R).data;return Object(y.jsx)(ue,{children:t?t.result.map((function(t){return Object(y.jsxs)("div",{className:"mv",children:[Object(y.jsx)($t,{src:t.picUrl,width:20,height:11}),Object(y.jsx)("span",{className:"name",children:t.name}),Object(y.jsx)("span",{className:"artists",children:t.artists.map((function(t){return t.name})).join("/")})]})})):new Array(4).fill(null).map((function(){return Object(y.jsx)("div",{className:"mv",children:Object(y.jsx)(Tt.a,{})})}))})},be=g.a.div(Ut||(Ut=Object(v.a)(["\n\tfont-size: ",";\n\tfont-weight: ",";\n\tmargin-left: 2rem;\n\tborder-bottom: ",";\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n\t.tab-link {\n    color:black;\n    text-decoration: none;\n  }\n"])),(function(t){return t.activated?"22px":"18px"}),(function(t){return t.activated?"600":""}),(function(t){return t.activated?"solid 2px rgb(236, 65, 65) ":""})),he=function(t){var e=t.title,n=t.activated,r=void 0!==n&&n,a=t.onClick,c=t.path;return Object(y.jsx)(be,{activated:r,onClick:a,children:Object(y.jsx)(G.b,{className:"tab-link",to:c,children:e})})},me=g.a.header(zt||(zt=Object(v.a)(["\n\t@media screen and (max-width: 600px) {\n\t\tleft: 0px;\n    justify-content: center;\n\t}\n\tdisplay: flex;\n\tposition: fixed;\n\ttop: 4rem;\n\twidth: 100%;\n\tleft: 256px;\n\theight: 4rem;\n\tbackground-color: rgb(255, 255, 255);\n\talign-items: center;\n"]))),fe=[{title:"\u4e2a\u6027\u63a8\u8350",path:"personalrecommend"},{title:"\u6b4c\u5355",path:"lists"},{title:"\u6700\u65b0\u97f3\u4e50",path:"newsongs"}],xe=function(t){var e=Object(m.useState)(0),n=Object(O.a)(e,2),r=n[0],a=n[1],c=Object(U.j)(fe.map((function(t){var e=t.path;return"/findmusic/".concat(e)})));return Object(m.useLayoutEffect)((function(){for(var t=0;t<fe.length;t++){var e=fe[t].path;if(-1!==(null===c||void 0===c?void 0:c.path.indexOf(e))){a(t);break}}}),[c]),Object(y.jsx)(me,{children:fe.map((function(t,e,n){var c=t.title,i=t.path;return Object(y.jsx)(he,{title:c,activated:c===n[r].title,path:i,onClick:function(){a(e)}},c)}))})},pe=n(17),Oe=[{id:58100,name:"\u73b0\u573a"},{id:60100,name:"\u7ffb\u5531"},{id:1101,name:"\u821e\u8e48"},{id:58101,name:"\u542cBGM"},{id:2100,name:"\u751f\u6d3b"},{id:2103,name:"\u6e38\u620f"},{id:57104,name:"ACG\u97f3\u4e50"},{id:1105,name:"\u6700\u4f73\u996d\u5236"}],ve=function(t){var e=t.currCat,n=t.setCurrCat;return Object(y.jsxs)("div",{className:"status",children:[Object(y.jsx)("div",{className:"wrapper",children:Object(y.jsx)("div",{className:"curr-cat",children:Object(y.jsx)("span",{children:e})})}),Oe.slice(0,10).map((function(t){return Object(y.jsx)("div",{className:"cat-name ".concat(t.name===e?"selected":""),onClick:function(){n(t.name)},children:t.name},t.name)}))]})},ge=function(t){var e=t.currCat,n=t.setCurrCat,r=Object(M.a)("/playlist/catlist",R).data;return Object(y.jsxs)("div",{className:"status",children:[Object(y.jsx)("div",{className:"wrapper",children:Object(y.jsx)("div",{className:"curr-cat",children:Object(y.jsx)("span",{children:e})})}),null===r||void 0===r?void 0:r.sub.slice(0,10).map((function(t){return Object(y.jsx)("div",{className:"cat-name ".concat(t.name===e?"selected":""),onClick:function(){n(t.name)},children:t.name},t.name)}))]})},we=g.a.div(Et||(Et=Object(v.a)(["\n\tmargin-top: 1rem;\n\n\t.status {\n\t\tmargin-bottom: 1rem;\n\t\tfont-size: 16px;\n\t\theight: 32px;\n\t\twidth: 86rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.wrapper {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t\t.curr-cat {\n\t\t\twidth: 104px;\n\t\t\theight: 32px;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tdisplay: flex;\n\t\t\tfont-size: 16px;\n\t\t\tborder-style: solid;\n\t\t\tborder-radius: 16px;\n\t\t\tborder-width: 1px;\n\t\t\tborder-color: gray;\n\t\t}\n\t\t.cat-name {\n\t\t\tfont-size: small;\n\t\t\theight: 16px;\n\t\t\tflex-basis: 4rem;\n\t\t\tuser-select: none;\n\t\t}\n\t\t.selected {\n\t\t\tbackground-color: rgb(253, 245, 245);\n\t\t\tborder-radius: 12px;\n\t\t\tcolor: rgb(236, 65, 65);\n\t\t}\n\t}\n\t.list {\n\t\tdisplay: flex;\n\t\twidth: 86rem;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-between;\n\t\talign-content: space-between;\n\t\t.item {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\twidth: 16rem;\n\t\t\theight: 20rem;\n\t\t\tspan {\n\t\t\t\ttext-align: left;\n\t\t\t}\n\t\t\t.name {\n\t\t\t\ttext-decoration: none;\n\t\t\t\tcolor: black;\n\t\t\t}\n\t\t}\n\t}\n"]))),ye=function(){var t=Object(m.useState)("\u5168\u90e8\u6b4c\u5355"),e=Object(O.a)(t,2),n=e[0],r=e[1],a=Object(m.useCallback)(r,[n]),c=Object(m.useState)(0),i=Object(O.a)(c,2),s=i[0],l=i[1],o=Object(m.useState)(!1),d=Object(O.a)(o,2),u=d[0],j=d[1],b=Object(m.useState)([]),h=Object(O.a)(b,2),f=h[0],x=h[1],p=Object(m.useRef)(null),v=Object(m.useRef)(null);return Object(m.useEffect)((function(){Object(P.a)(L.a.mark((function t(){var e,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,fetch("/top/playlist?limit=20&cat=".concat(n,"&offset=").concat(s)).then((function(t){return t.json()}));case 3:e=t.sent,r=e.playlists,x(r),j(!1);case 7:case"end":return t.stop()}}),t)})))()}),[n]),Object(m.useEffect)((function(){s<=100&&Object(P.a)(L.a.mark((function t(){var e,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,fetch("/top/playlist?limit=20&cat=".concat(n,"&offset=").concat(20*s)).then((function(t){return t.json()}));case 3:e=t.sent,r=e.playlists,x([].concat(Object(pe.a)(f),Object(pe.a)(r))),j(!1);case 7:case"end":return t.stop()}}),t)})))()}),[s]),Object(m.useEffect)((function(){var t=p.current;return v.current=new IntersectionObserver((function(t){console.log(t),t[0]&&t[0].isIntersecting&&l((function(t){return t>=100?100:t+1}))})),v.current.observe(t),function(){try{var e,n;null===(e=v.current)||void 0===e||e.unobserve(t),null===(n=v.current)||void 0===n||n.disconnect()}catch(r){console.error(r)}}}),[p.current]),Object(y.jsxs)(we,{children:[Object(y.jsx)(ge,{setCurrCat:a,currCat:n}),Object(y.jsx)("div",{className:"list",children:f.map((function(t,e,n){var r=t.coverImgUrl,a=t.name,c=t.id;return Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)($t,{src:r}),Object(y.jsx)(G.b,{className:"name",to:"/list/".concat(c),children:a})]},a)}))}),Object(y.jsx)("div",{ref:p,style:{width:"100%",height:"2rem"},children:u&&Object(y.jsx)(Tt.a,{})})]})},ke=n(101),Ne=n.n(ke),Ce=g.a.div(At||(At=Object(v.a)(["\n\tmargin-top: 2rem;\n\twidth: 73rem;\n\t.header {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tmargin-bottom: 1rem;\n\t}\n\t.btn {\n\t\twidth: calc(73rem - 270px);\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n\t.list-item {\n\t\t&:hover {\n\t\t\tbackground-color: rgb(239, 239, 239);\n\t\t}\n\t\tpadding-left: 2rem;\n\t\tpadding-right: 2rem;\n\t\twidth: 100%;\n\t\theight: 5rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.i {\n\t\t\ttext-align: left;\n\t\t\tjustify-self: flex-start;\n\t\t\twidth: 2rem;\n\t\t\tcolor: #b9b9b9;\n\t\t}\n\t\t.equalizer {\n\t\t\tjustify-self: flex-start;\n\t\t\twidth: 2rem;\n\t\t\tcolor: rgb(236, 65, 65);\n\t\t\ttransform: translateX(-0.5rem);\n\t\t}\n\t\t.name {\n\t\t\tmargin-left: 1rem;\n\t\t\twidth: 10rem;\n\t\t\ttext-align: left;\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t\t.name-red {\n\t\t\tmargin-left: 1rem;\n\t\t\twidth: 10rem;\n\t\t\ttext-align: left;\n\t\t\tcolor: rgb(236, 65, 65);\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t\t.artists {\n\t\t\tmargin-left: 22rem;\n\t\t\twidth: 16rem;\n\t\t\tcolor: #b9b9b9;\n\t\t\ttext-align: left;\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t\t.album {\n\t\t\twidth: calc(100% - 58.75rem);\n\t\t\tcolor: #b9b9b9;\n\t\t\ttext-align: left;\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t\t.dur {\n\t\t\ttext-align: left;\n\t\t\twidth: 5rem;\n\t\t\tcolor: #b9b9b9;\n\t\t}\n\t}\n\t.status-bar {\n\t\twidth: 270px;\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t}\n\t.play-all {\n\t\ttext-align: center;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n"]))),Se=g.a.div(Mt||(Mt=Object(v.a)(["\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n\tcolor: ",";\n"])),(function(t){return t.activated?"black":"gray"})),Ie=[{type:0,text:"\u5168\u90e8"},{type:7,text:"\u534e\u8bed"},{type:96,text:"\u6b27\u7f8e"},{type:8,text:"\u65e5\u672c"},{type:16,text:"\u97e9\u56fd"}],Ue=Object(g.a)(nt.a)(Dt||(Dt=Object(v.a)(["\n\twidth: 8rem;\n\ttext-align: center;\n\theight: 2rem;\n\tcolor: white;\n\tbackground-color: rgb(236, 65, 65);\n\tborder-radius: 1rem;\n\t&:hover {\n\t\tcolor: white;\n\t\tbackground-color: rgb(236, 65, 65);\n\t}\n"]))),ze=function(t){var e=t.onClick;return Object(y.jsx)("div",{className:"btn",onClick:e,children:Object(y.jsx)(Ue,{startIcon:Object(y.jsx)(Kt.a,{}),children:"\u64ad\u653e\u5168\u90e8"})})},Ee=function(){var t=Object(m.useState)(0),e=Object(O.a)(t,2),n=e[0],r=e[1],a=Object(m.useContext)(se),c=a.songIds,i=a.setSongIds,s=a.setDuration,l=a.setArtists,o=a.setName,d=a.setUrl,u=a.setCurrI,j=a.currI,b=Object(m.useState)(0),h=Object(O.a)(b,2),f=h[0],x=h[1],p=Object(M.a)("/top/song?type=".concat(f),R).data,v=ie();Object(m.useEffect)((function(){p&&i(p.data.map((function(t){return t.id})))}),[p]);var g=Object(m.useMemo)((function(){return p&&(null===p||void 0===p?void 0:p.data.map((function(t,e){var n=t.name,r=t.album,a=t.artists,c=t.id,i=t.duration,s=r.blurPicUrl,l=(r.name,a.map((function(t){return t.name})).join("/")),o=Math.floor(i/6e4),d=Math.floor(i/1e3)-60*o;return{id:c,artistsName:l,name:n,url:s,duration:"".concat(o,":").concat(d<10?"0".concat(d):d)}})))}),[p]);return Object(m.useEffect)((function(){if(g){var t=g[j];console.log(t),o(t.name),s(t.duration),l(t.artistsName),d(t.url)}}),[j]),Object(y.jsxs)(Ce,{children:[Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)("div",{className:"status-bar",children:Ie.map((function(t){var e=t.type,n=t.text;return Object(y.jsx)(Se,{onClick:function(){x(e)},activated:f===e,children:n})}))}),Object(y.jsx)(ze,{onClick:function(){if(g){var t=g[0];console.log(t),o(t.name),s(t.duration),l(t.artistsName),d(t.url),console.log("first")}p&&r(p.data[0].id);var e=c.indexOf(n);e>=0&&(console.log("setcurri"),u(e))}})]}),p&&(null===p||void 0===p?void 0:p.data.map((function(t,e){var n=t.name,a=t.album,i=t.artists,b=t.id,h=t.duration,m=a.blurPicUrl,f=a.name,x=i.map((function(t){return t.name})).join("/"),p=Math.floor(h/6e4),O=Math.floor(h/1e3)-60*p,g="".concat(p,":").concat(O<10?"0".concat(O):O);return Object(y.jsxs)("div",{className:"list-item",style:{backgroundColor:"".concat(e%2===0&&"#f5f5f5")},onClick:function(){r(b),o(n),l(x),s(g),d(m),u(e),v.pause()},children:[c[j]===b?Object(y.jsx)(Ne.a,{className:"equalizer"}):Object(y.jsx)("div",{className:"i",children:e}),Object(y.jsx)($t,{width:3.75,height:3.75,src:m,bdr:.5}),c[j]===b?Object(y.jsx)("div",{className:"name-red",children:n}):Object(y.jsx)("div",{className:"name",children:n}),Object(y.jsx)("div",{className:"artists",children:x}),Object(y.jsx)("div",{className:"album",children:f}),Object(y.jsx)("div",{className:"dur",children:g})]},b)}))),!p&&Object(y.jsx)(Tt.a,{})]})},Ae=n(197),Me=n(198),De=n(199),Le=n(200),Pe=n(202),Re=n(219),Te=n(212),Be=n(201),Fe=g.a.div(Lt||(Lt=Object(v.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\theight: 100%;\n\tpadding-right: 1rem;\n\tpadding-left: 1rem;\n\t.info {\n\t\twidth: 20%;\n\t\theight: 100%;\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t\ttext-align: left;\n\t\t.info-text {\n\t\t\tmargin-left: 1rem;\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t}\n\t.control {\n\t\tdisplay: flex;\n\t\theight: 100%;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 60%;\n\t\tflex-direction: column;\n\t\t.progress {\n\t\t\theight: 1rem;\n\t\t\twidth: 24rem;\n\t\t\tdisplay: inline-flex;\n\t\t\t.MuiSlider-root {\n\t\t\t\tmargin-left: 1rem;\n\t\t\t\tmargin-right: 1rem;\n\t\t\t}\n\t\t}\n\t}\n\t.volume {\n\t\t@media screen and (max-width:600px){\n\t\t\tdisplay: none;\n\t\t}\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth: 20%;\n\t\tjustify-content: center;\n\t\t.icon {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\twidth: 2rem;\n\t\t}\n\t\t.MuiSlider-root {\n\t\t\twidth: 8rem;\n\t\t\t.MuiSlider-thumb {\n\t\t\t\twidth: 1rem;\n\t\t\t\theight: 1rem;\n\t\t\t}\n\t\t}\n\t}\n"]))),Je=function(){var t=Object(m.useContext)(se),e=t.name,n=t.artists,r=(t.duration,t.url),a=t.currI,c=t.songIds,i=t.setCurrI,s=ie(),l=Object(m.useState)(!1),o=Object(O.a)(l,2),d=o[0],u=o[1],j=Object(m.useState)(0),b=Object(O.a)(j,2),h=(b[0],b[1],Object(m.useState)(50)),f=Object(O.a)(h,2),x=f[0],p=f[1],v=Object(M.a)((function(){if(a>=0&&c&&c.length>0){var t=c[a];return"/song/url?id=".concat(t)}return"/song/url?id=".concat(0)}),R).data,g=Object(m.useState)(!0),w=Object(O.a)(g,2),k=w[0],N=w[1];return console.log("rerender",s.paused),Object(m.useEffect)((function(){var t=function(){N(!1)},e=function(){N(!0)},n=function(){console.log("canplay"),u(!0)};return s.addEventListener("play",t),s.addEventListener("pause",e),s.addEventListener("canplay",n),function(){s.removeEventListener("play",t),s.removeEventListener("pause",e),s.removeEventListener("canplay",n)}}),[]),Object(m.useEffect)((function(){v&&v.data[0]&&(s.src=v.data[0].url,u(!1))}),[v]),Object(y.jsxs)(Fe,{children:[Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)($t,{width:3,height:3,bdr:.5,src:r}),Object(y.jsxs)("div",{className:"info-text",children:[Object(y.jsx)("div",{className:"name",children:e}),Object(y.jsx)("div",{className:"artists",children:n})]})]}),Object(y.jsx)("div",{className:"control",children:Object(y.jsxs)("div",{className:"btns",children:[Object(y.jsx)(Re.a,{className:"prev-btn",onClick:function(){s.pause(),N(!0);var t=a<1?a-1+c.length:(a-1)%c.length;i(t)},children:Object(y.jsx)(Ae.a,{})}),k?Object(y.jsx)(Re.a,{disabled:!d,className:"play-btn",onClick:function(){v&&v.data&&v.data[0]&&s.play()},children:Object(y.jsx)(De.a,{})}):Object(y.jsx)(Re.a,{disabled:!d,className:"play-btn",onClick:function(){v&&v.data&&v.data[0]&&s.pause()},children:Object(y.jsx)(Me.a,{})}),Object(y.jsx)(Re.a,{className:"next-btn",onClick:function(){s.pause(),N(!0),i((a+1)%c.length)},children:Object(y.jsx)(Le.a,{})})]})}),Object(y.jsxs)(Be.a,{className:"volume",children:[Object(y.jsx)(Pe.a,{className:"icon"}),Object(y.jsx)(Te.a,{onChange:function(t,e){"number"===typeof e&&(s.volume=e/100,p(e))},value:x})]})]})},Xe=g.a.div(Pt||(Pt=Object(v.a)(["\n\tmargin-top: 1rem;\n\t.status {\n\t\tmargin-bottom: 1rem;\n\t\tfont-size: 16px;\n\t\theight: 32px;\n\t\twidth: 70rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.wrapper {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t\t.curr-cat {\n\t\t\twidth: 104px;\n\t\t\theight: 32px;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tdisplay: flex;\n\t\t\tfont-size: 16px;\n\t\t\tborder-style: solid;\n\t\t\tborder-radius: 16px;\n\t\t\tborder-width: 1px;\n\t\t\tborder-color: gray;\n\t\t}\n\t\t.cat-name {\n\t\t\tfont-size: small;\n\t\t\theight: 16px;\n\t\t\tflex-basis: 4rem;\n\t\t\tuser-select: none;\n\t\t}\n\t\t.selected {\n\t\t\tbackground-color: rgb(253, 245, 245);\n\t\t\tborder-radius: 12px;\n\t\t\tcolor: rgb(236, 65, 65);\n\t\t}\n\t}\n\t.list {\n\t\tdisplay: flex;\n\t\twidth: 70rem;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-between;\n\t\talign-content: space-between;\n\t\t.item {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\twidth: 16rem;\n\t\t\theight: 14rem;\n\t\t\tspan {\n\t\t\t\ttext-align: left;\n\t\t\t}\n\t\t}\n\t}\n    .link{\n        text-decoration:none;\n        color:black;\n    }\n"]))),qe=function(t){var e=Object(m.useState)("\u6700\u4f73\u996d\u5236"),n=Object(O.a)(e,2),r=n[0],a=n[1],c=Object(m.useState)(0),i=Object(O.a)(c,2),s=i[0],l=i[1],o=Object(m.useState)([]),d=Object(O.a)(o,2),u=d[0],j=d[1],b=Object(m.useRef)(null),h=Object(m.useRef)(null),f=Object(m.useState)(!1),x=Object(O.a)(f,2),p=x[0],v=x[1];return Object(m.useEffect)((function(){Object(P.a)(L.a.mark((function t(){var e,n,a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),e=Oe.find((function(t){return t.name===r})),t.next=4,fetch("/video/group?id=".concat(null===e||void 0===e?void 0:e.id,"&&offset=").concat(8*s)).then((function(t){return t.json()}));case 4:n=t.sent,a=n.datas,j((function(t){return[].concat(Object(pe.a)(t),Object(pe.a)(a))})),v(!1);case 8:case"end":return t.stop()}}),t)})))()}),[s]),Object(m.useEffect)((function(){Object(P.a)(L.a.mark((function t(){var e,n,a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j([]),v(!0),e=Oe.find((function(t){return t.name===r})),t.next=5,fetch("/video/group?id=".concat(null===e||void 0===e?void 0:e.id)).then((function(t){return t.json()}));case 5:n=t.sent,a=n.datas,j(a),v(!1);case 9:case"end":return t.stop()}}),t)})))()}),[r]),Object(m.useEffect)((function(){var t=b.current;return h.current=new IntersectionObserver((function(t){console.log(t),t[0]&&t[0].isIntersecting&&l((function(t){return t>=100?100:t+1}))})),h.current.observe(t),function(){try{var e,n;null===(e=h.current)||void 0===e||e.unobserve(t),null===(n=h.current)||void 0===n||n.disconnect()}catch(r){console.error(r)}}}),[b.current]),Object(y.jsxs)(Xe,{children:[Object(y.jsx)(ve,{currCat:r,setCurrCat:a}),Object(y.jsx)("div",{className:"list",children:u&&u.map((function(t,e){var n=t.data,r=n.coverUrl,a=n.title,c=n.name,i=n.vid;return c&&(a=c),Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)($t,{src:r,width:16,height:9}),Object(y.jsx)("div",{className:"name",children:Object(y.jsx)(G.b,{className:"link",to:"/videos/".concat(i),children:a})})]},a)}))}),Object(y.jsx)("div",{ref:b,style:{width:"100%",height:"2rem"},children:p&&Object(y.jsx)(Tt.a,{})})]})},Ge=g.a.div(Rt||(Rt=Object(v.a)(["\n\tdisplay: flex;\n\twidth: 70rem;\n\t.vd {\n        width:620px;\n\t\t.title {\n\t\t\tcolor: black;\n\t\t\tfont-weight: 600;\n\t\t\ttext-align: left;\n\t\t\tmargin-bottom: 0.5rem;\n\t\t}\n\t\t.name {\n            overflow: hidden;\n\t\t\ttext-align: left;\n            overflow: hidden;\n\t\t}\n\t\t.play-times {\n\t\t\ttext-align: left;\n\t\t\tcolor: gray;\n\t\t}\n\t}\n\t.recom {\n\t\tmargin-left: 2rem;\n\t\t.title {\n\t\t\tfont-weight: 600;\n\t\t\ttext-align: left;\n\t\t}\n\t\t.list-item {\n\t\t\twidth: 25rem;\n\t\t\theight: 6rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t.link {\n\t\t\t\tcolor: black;\n\t\t\t\ttext-decoration: none;\n\t\t\t\tmargin-left: 1rem;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-align: left;\n\t\t\t\theight: 3rem;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t}\n\t\t}\n\t}\n"])));function We(){for(var t=function(t){return fetch(t).then((function(t){return t.json()}))},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length>1)return Promise.all(n.map(t))}var _e,Ve,He,Ke,Qe,Ye=function(){var t,e,n=Object(U.i)().vid,r=Object(M.a)(["/related/allvideo?id=".concat(n),"/video/detail?id=".concat(n),"/video/url?id=".concat(n)],We).data;return Object(y.jsxs)(Ge,{children:[Object(y.jsxs)("div",{className:"vd",children:[Object(y.jsx)("div",{className:"title",children:"\u89c6\u9891\u8be6\u60c5"}),r&&r[2]&&Object(y.jsx)("video",{width:620,height:355,controls:!0,children:Object(y.jsx)("source",{src:r[2].urls[0].url})}),r&&Object(y.jsx)("h2",{className:"name",children:r[1].data.title}),r&&Object(y.jsx)("div",{className:"play-times",children:(e=r[1].data.playTime,e>=1e5?"\u64ad\u653e ".concat(Math.floor(e/1e4),"\u4e07\u6b21"):"\u64ad\u653e ".concat(e,"\u6b21"))})]}),Object(y.jsxs)("div",{className:"recom",children:[Object(y.jsx)("div",{className:"title",children:"\u76f8\u5173\u63a8\u8350"}),r&&(null===(t=r[0])||void 0===t?void 0:t.data.map((function(t){var e=t.coverUrl,n=t.title,r=t.vid;return Object(y.jsxs)("div",{className:"list-item",children:[Object(y.jsx)($t,{height:5,width:9,bdr:.5,src:e}),Object(y.jsx)(G.b,{className:"link",to:"/videos/".concat(r),children:n})]},n)})))]})]})},Ze=function(t){var e=Math.floor(t/6e4),n=Math.floor(t/1e3)-60*e;return"".concat(e<10?"0".concat(e):"".concat(e),":").concat(n<10?"0".concat(n):n)},$e=n(220),tn=n(223),en=n(222),nn=n(221),rn=n(224),an=g.a.div(_e||(_e=Object(v.a)(["\n\twidth: 100%;\n\theight: 100%;\n\t.header {\n\t\tmargin-left: 2rem;\n\t\tdisplay: flex;\n\t\t.info {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\twidth: 100%;\n\t\t\ttext-align: left;\n\t\t\tmargin-left: 1rem;\n\t\t\t.creator {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tcolor: gray;\n\t\t\t}\n\t\t}\n\t}\n"]))),cn=Object(g.a)($e.a)(Ve||(Ve=Object(v.a)(["\n\twidth: 100%;\n\tcolor: black;\n\t.table-body {\n\t\twidth: 100%;\n\t}\n\t.table-row {\n\t\t&:hover {\n\t\t\tbackground: #e4e3e378;\n\t\t}\n\t\twidth: 100%;\n\t\t.i {\n\t\t\tpadding-left: 2rem;\n\t\t\twidth: 4rem;\n\t\t\tcolor: gray;\n\t\t}\n\t\t.name {\n\t\t\twidth: 36%;\n\t\t\tfont-weight: 600;\n\t\t}\n\t\t.r-name {\n\t\t\twidth: 36%;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: rgb(234, 54, 54);\n\t\t}\n\t\t.artist {\n\t\t\twidth: 17%;\n\t\t\tcolor: gray;\n\t\t}\n\t\t.album {\n\t\t\twidth: 25%;\n\t\t\tcolor: gray;\n\t\t\tdiv {\n\t\t\t\toverflow: hidden;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t}\n\t\t}\n\t\t.dur {\n\t\t\twidth: calc(100% - 6rem - 36% - 17% - 20%);\n\t\t\tcolor: gray;\n\t\t\ttext-align: right;\n\t\t\tpadding-right: 2rem;\n\t\t}\n\t}\n"]))),sn=function(t){var e;return null===t||void 0===t||null===(e=t.playlist)||void 0===e?void 0:e.trackIds.map((function(t){return t.id})).slice(0,200)},ln=function(){var t=Object(U.i)().id,e=Object(M.a)("/playlist/detail?id=".concat(t),R).data,n=Object(m.useMemo)((function(){return function(t){var e;return null===t||void 0===t||null===(e=t.playlist)||void 0===e?void 0:e.trackIds.map((function(t){return t.id})).slice(0,200).reduce((function(t,e){return t+e+","}),"/song/detail?ids=").slice(0,-1)}(e)}),[e]),r=Object(M.a)(n,R).data,a=Object(m.useContext)(se),c=a.setArtists,i=a.setDuration,s=a.setName,l=a.setUrl,o=a.setSongIds,d=a.setCurrI,u=a.currI,j=ie();return Object(m.useEffect)((function(){if(r){var t=r.songs[u],n=t.name,a=t.al,d=t.ar,j=t.dt,b=a.picUrl,h=d[0].name,m=Ze(j);l(b),s(n),c(h),i(m),o(sn(e))}}),[u]),Object(y.jsxs)(an,{children:[!e&&Object(y.jsx)(Tt.a,{}),e&&Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)($t,{width:12,height:12,bdr:.5,src:e.playlist.coverImgUrl}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("h3",{children:e.playlist.name}),Object(y.jsxs)("div",{className:"creator",children:[Object(y.jsx)(tt.a,{src:e.playlist.creator.avatarUrl}),e.playlist.creator.nickname]})]})]}),Object(y.jsxs)(cn,{children:[(!e||!r)&&Object(y.jsx)(Tt.a,{}),Object(y.jsxs)(nn.a,{className:"table-head",children:[Object(y.jsx)(en.a,{}),Object(y.jsx)(en.a,{children:"\u97f3\u4e50\u6807\u9898"}),Object(y.jsx)(en.a,{children:"\u6b4c\u624b"}),Object(y.jsx)(en.a,{children:"\u4e13\u8f91"}),Object(y.jsx)(en.a,{align:"right",sx:{paddingRight:"2rem"},children:"\u65f6\u957f"})]}),Object(y.jsx)(tn.a,{className:"table-body",children:e&&r&&r.songs.map((function(t,n){var r=t.name,a=t.al,b=t.ar,h=t.dt,m=a.picUrl,f=a.name,x=b[0].name,p=Ze(h);return Object(y.jsxs)(rn.a,{className:"table-row",onClick:function(){c(x),i(p),l(m),s(r),o(sn(e)),d(n),j.pause()},children:[Object(y.jsx)(en.a,{className:"i",children:n+1}),Object(y.jsx)(en.a,{className:u===n?"r-name":"name",children:r}),Object(y.jsx)(en.a,{className:"artist",children:x}),Object(y.jsx)(en.a,{className:"album",children:Object(y.jsx)("div",{children:f})}),Object(y.jsx)(en.a,{className:"dur",children:p})]},r)}))})]})]})},on=Object($.a)(tt.a)(He||(He=Object(v.a)(["\n\tmargin-right: 8px;\n"]))),dn=Object($.a)(et.a)(Ke||(Ke=Object(v.a)(["\n\tcolor: white;\n\twidth: 64px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n"]))),un=Object($.a)(nt.a)(Qe||(Qe=Object(v.a)(["\n\tcolor: white;\n"]))),jn=Object(rt.a)({palette:{primary:Z.a}});var bn=function(){var t,e=Object(m.useRef)(""),n=Object(m.useRef)(""),r=Object(m.useState)(!1),a=Object(O.a)(r,2),c=a[0],i=a[1],s=Object(m.useState)(!1),l=Object(O.a)(s,2),o=l[0],d=l[1],u=Object(m.useState)(-1!==document.cookie.indexOf("MUSIC_U=")),j=Object(O.a)(u,2),b=j[0],h=j[1],f=Object(m.useState)(null),x=Object(O.a)(f,2),p=x[0],v=x[1],g=Object(M.a)((function(){return"/user/detail?uid=".concat(p)}),R),k=g.data,z=(g.error,Object(m.useState)([])),E=Object(O.a)(z,2),D=E[0],L=E[1],P=Object(m.useState)(""),J=Object(O.a)(P,2),X=J[0],q=J[1],W=Object(m.useState)(""),_=Object(O.a)(W,2),V=_[0],H=_[1],K=Object(m.useState)(""),Q=Object(O.a)(K,2),Z=Q[0],$=Q[1],tt=Object(m.useState)(""),et=Object(O.a)(tt,2),rt=et[0],ht=et[1],mt=Object(m.useState)(-1),ft=Object(O.a)(mt,2),xt=ft[0],pt=ft[1];t=function(){var t=window.localStorage.getItem("cookie"),e=window.localStorage.getItem("uid");t&&e?(document.cookie=t,h(!0),i(!1),v(parseInt(e))):(h(!1),i(!0))},Object(m.useEffect)((function(){t()}),[]);var Ot=function(){i(!0)},vt=function(){T().then((function(t){console.log(t),200===t.code&&(h(!1),v(null),window.localStorage.removeItem("uid"),window.localStorage.removeItem("cookie"))}))};return Object(y.jsx)(F.Provider,{value:{loginStatus:b,uid:p},children:Object(y.jsx)(at.a,{theme:jn,children:Object(y.jsx)(G.a,{children:Object(y.jsxs)("div",{className:"App",children:[function(){var t,e;return Object(y.jsx)(C,{children:Object(y.jsxs)(S,{children:[Object(y.jsx)("div",{className:"logo",children:Object(y.jsx)("img",{src:"/logo_netease.png",alt:"",height:64})}),b?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(on,{alt:"",src:null===k||void 0===k||null===(t=k.profile)||void 0===t?void 0:t.avatarUrl}),Object(y.jsx)(dn,{variant:"body2",children:null===k||void 0===k||null===(e=k.profile)||void 0===e?void 0:e.nickname}),Object(y.jsx)(un,{onClick:vt,startIcon:Object(y.jsx)(bt.a,{}),children:"\u767b\u51fa"})]}):Object(y.jsx)(un,{onClick:Ot,startIcon:Object(y.jsx)(jt.a,{}),children:"\u767b\u5f55"})]})})}(),Object(y.jsxs)(I,{children:[Object(y.jsx)(Y,{}),Object(y.jsx)(ct.a,{sx:{flexBasis:"256px","@media screen and (max-width:600px)":{display:"none"}}}),Object(y.jsxs)(w,{children:[Object(y.jsxs)(U.d,{children:[Object(y.jsx)(U.b,{path:"/findmusic",children:Object(y.jsx)(xe,{})}),Object(y.jsx)(U.b,{path:"*",children:null})]}),Object(y.jsx)(A,{children:Object(y.jsx)(se.Provider,{value:{name:Z,url:rt,artists:X,duration:V,setSongIds:L,songIds:D,currI:xt,setArtists:q,setDuration:H,setUrl:ht,setName:$,setCurrI:pt},children:Object(y.jsxs)(U.d,{children:[Object(y.jsx)(U.b,{path:"/findmusic",children:Object(y.jsxs)(U.d,{children:[Object(y.jsxs)(U.b,{path:"/findmusic/personalrecommend",children:[Object(y.jsx)(Xt,{dots:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,nextArrow:Object(y.jsx)(Ht,{}),prevArrow:Object(y.jsx)(Vt,{})}),Object(y.jsx)(Yt,{children:"\u63a8\u8350\u6b4c\u5355"}),Object(y.jsx)(ee,{}),Object(y.jsx)(Yt,{children:"\u72ec\u5bb6\u653e\u9001"}),Object(y.jsx)(ae,{}),Object(y.jsx)(Yt,{children:"\u6700\u65b0\u97f3\u4e50"}),Object(y.jsx)(de,{}),Object(y.jsx)(Yt,{children:"\u63a8\u8350MV"}),Object(y.jsx)(je,{})]}),Object(y.jsx)(U.b,{path:"/findmusic/lists",children:Object(y.jsx)(ye,{})}),Object(y.jsx)(U.b,{path:"/findmusic/newsongs",children:Object(y.jsx)(Ee,{})}),Object(y.jsx)(U.a,{to:{pathname:"/findmusic/personalrecommend"}})]})}),Object(y.jsx)(U.b,{path:"/videos",children:Object(y.jsxs)(U.d,{children:[Object(y.jsx)(U.b,{path:"/videos/:vid",children:Object(y.jsx)(Ye,{})}),Object(y.jsx)(U.b,{path:"/videos",children:Object(y.jsx)(qe,{})})]})}),Object(y.jsx)(U.b,{path:"/list/:id",children:Object(y.jsx)(ln,{})}),Object(y.jsx)(U.a,{to:{pathname:"/findmusic/personalrecommend",state:{from:"/"}}})]})})})]})]}),Object(y.jsx)(N,{children:Object(y.jsx)(se.Provider,{value:{name:Z,url:rt,artists:X,duration:V,setSongIds:L,songIds:D,setArtists:q,setDuration:H,setUrl:ht,setName:$,currI:xt,setCurrI:pt},children:Object(y.jsx)(Je,{})})}),Object(y.jsxs)(it.a,{open:c,children:[Object(y.jsx)(st.a,{children:"\u767b\u5f55"}),Object(y.jsxs)(lt.a,{children:[Object(y.jsx)(ot.a,{children:"\u8bf7\u8f93\u5165\u7f51\u6613\u4e91\u97f3\u4e50\u7684\u624b\u673a\u53f7\u4e0e\u5bc6\u7801"}),Object(y.jsx)(dt.a,{autoFocus:!0,margin:"dense",id:"name",label:"\u624b\u673a\u53f7",type:"phone",fullWidth:!0,variant:"standard",onChange:function(t){e.current=t.target.value}}),Object(y.jsx)(dt.a,{error:o,autoFocus:!0,margin:"dense",id:"name",label:"\u5bc6\u7801",type:"password",fullWidth:!0,variant:"standard",onChange:function(t){n.current=t.target.value},helperText:o?"\u767b\u5f55\u5931\u8d25":""})]}),Object(y.jsxs)(ut.a,{children:[Object(y.jsx)(nt.a,{onClick:function(){B(e.current,n.current).then((function(t){var e,n;200===t.code?(i(!1),h(!0),d(!1),v(null===t||void 0===t||null===(e=t.account)||void 0===e?void 0:e.id),window.localStorage.setItem("uid",JSON.stringify(null===t||void 0===t||null===(n=t.account)||void 0===n?void 0:n.id)),window.localStorage.setItem("cookie",document.cookie)):d(!0)}))},children:"\u63d0\u4ea4"}),Object(y.jsx)(nt.a,{onClick:function(){i(!1)},children:"\u53d6\u6d88"})]})]})]})})})})};p.a.render(Object(y.jsx)(f.a.StrictMode,{children:Object(y.jsx)(bn,{})}),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.073edff1.chunk.js.map